/*! For license information please see cart-shipping-calculator-pro.min.js.LICENSE.txt */
(()=>{var t={48262:()=>{Object.getOwnPropertyDescriptor(NodeList.prototype,"forEach")||Object.defineProperty(NodeList.prototype,"forEach",Object.getOwnPropertyDescriptor(Array.prototype,"forEach")),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),URLSearchParams||(URLSearchParams=function(){this.get=function(){return null},this.has=function(){return!1}})},65606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var c,p=[],l=!1,u=-1;function s(){l&&c&&(l=!1,c.length?p=c.concat(p):u=-1,p.length&&d())}function d(){if(!l){var t=a(s);l=!0;for(var e=p.length;e;){for(c=p,p=[];++u<e;)c&&c[u].run();u=-1,e=p.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function h(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new f(t,e)),1!==p.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(()=>{"use strict";n(48262);var t=n(65606),e=t&&{NODE_ENV:"production",TEST_APP_URL:"https://shopify-shipping-on-cart.test/",SHOPIFY_APP_PROXY_PATH:"cart-shipping-calculator-pro"}&&!1,r="/apps/"+(null===t||void 0===t||null===(t={NODE_ENV:"production",TEST_APP_URL:"https://shopify-shipping-on-cart.test/",SHOPIFY_APP_PROXY_PATH:"cart-shipping-calculator-pro"})||void 0===t?void 0:t.SHOPIFY_APP_PROXY_PATH)+"/",i=function(t){var n=document.head,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=t+(e?(t.includes("?")?"&":"?")+"cb="+Math.random():""),n.appendChild(r)},o=function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},a={},c=null,p=function(t,e){u(),!0===c?window.sessionStorage.setItem(t,e):a[t]=e},l=function(t){return u(),!0===c?window.sessionStorage.getItem(t):a[t]||null};function u(){if(null===c)try{window.sessionStorage.getItem("1"),c=!0}catch(t){window.docappSessionStorage=!1,c=!1}}var s=new URLSearchParams(window.location.search).has("docapp-test-log");s&&p("docapp-test-log","1");var d=s||e||"1"===l("docapp-test-log"),f="",h=window["docapp-start"]||(new Date).getTime(),g=function(t,e){if(d){var n=f+t+" ms: "+((new Date).getTime()-h);e?console.log(n,e):console.log(n)}},y=function t(e,n,r,i,o,a,c,p,l){window.Shopify&&window.Shopify.routes&&window.Shopify.routes.root&&window.Shopify.routes.root.length>1&&-1===e.indexOf(window.Shopify.routes.root)&&(e=Shopify.routes.root+("/"===e.charAt(0)?e.substring(1):e)),g("API CALL: "+e),c=void 0===c||c,p=void 0===p?c:p,i=i||"GET",o=o||null,l=l||0;var u=new XMLHttpRequest;u.isDocappHandledRequest=!0,u._url=e,u.open(i,e,!0),a&&a.forEach((function(t){u.setRequestHeader(t.name,t.value)})),c?(u.setRequestHeader("Content-Type","application/json"),p&&u.setRequestHeader("Accept","application/json,text/plain")):(u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9")),u.onload=function(){var s=u.status,d=u.response;if(s>=400){if(console.error("Failed to load request, status: "+s),405===s&&"GET"!==i.toUpperCase()&&l<3)return void t(e,n,r,i,o,a,c,p,l+1);r(d,s)}else p&&"string"==typeof u.response&&(d=JSON.parse(u.response)),n(d,s)},u.send(o),u.onerror=function(){console.error("Failed to load request"),r(null,503)}},m=function(t,e,n,r,i,o){return new Promise((function(a,c){y(t,(function(t,e){return a({response:t,status:e})}),(function(t,e){return c({error:t,status:e})}),e,n,r,i,o)}))},_={},v=null,w=function(t){return b(),!0===v?window.localStorage.getItem(t):_[t]||null};function b(){if(null===v)try{window.localStorage.getItem("1"),v=!0}catch(t){window.docappLocalStorage=!1,v=!1}}var S="docapp-shipping-discounts",P={discounts:[],freeShippingDiscount:null},O=l(S);if(O){var E=JSON.parse(O);E&&(P=E)}var C=function(){return P},L=function(t,e){P={discounts:t,freeShippingDiscount:e},p(S,JSON.stringify(P))};function q(t){return t?t.replace(/(<([^>]+)>)/gi,""):""}var A=["BHD","JOD","KWD"],x=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.floor(t),o=100;"MRO"!==n&&"MGA"!==n||(o=5);var a=i/o,c=a.toFixed(0),p=a.toFixed(A.includes(n)?3:2),l=p.replace(".",","),u=k(c),s=r?u:k(p),d=k(c,"."),f=k(c," "),h=r?d:k(l,"."),g=k(r?c:p,"'"),y=k(l," "),m=k(p," "),_=e.replace(/\[\[amount]]/g,s).replace(/\[\[amount_no_decimals]]/g,u).replace(/\[\[amount_with_comma_separator]]/g,h).replace(/\[\[amount_no_decimals_with_comma_separator]]/g,d).replace(/\[\[amount_no_decimals_with_space_separator]]/g,f).replace(/\[\[amount_with_apostrophe_separator]]/g,g).replace(/\[\[amount_with_space_separator]]/g,y).replace(/\[\[amount_with_period_and_space_separator]]/g,m),v=q(_);return v!==_?_:'<span class="money geolizr-currency buckscc-money" data-geolizr-price="'.concat(i,'" data-currency-').concat(n.toLowerCase(),'="').concat(v,'" data-money-convertible doubly-currency-').concat(n.toLowerCase(),'="').concat(i,'" doubly-currency="').concat(n,'" ge-data-original-price="').concat(i/100,'">').concat(v,"</span>")};function k(t,e){return e=e||",",t.replace(/\B(?=(\d{3})+(?!\d))/g,e)}function j(t){var e=100*t;return isNaN(e)?e:parseInt(e.toFixed())}function T(t){var e=t.replace(/[a-zA-Z]+\/?\.?/g,"");if(e.match(/^\D*0[.,]\d+$/))return j(e.replace(",",".").replace(/[^\d.]/g,""));if(e.match(/\.\d{3}($|,)/)||e.match(/,(\d{2}|\d{4,})($|\D)/))return j(e.replace(/[^\d,]/g,"").replace(/,/g,"."));var n=e.replace(/[^\d.]/g,"").match(/\d(.*\d)?/);return n&&n.length?j(n[0]):NaN}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}var D=null,I=null,R=null,H=null,M=function(){return D},z=function(t){D!==t&&(D=t,F(null),y(r+"/money-format",(function(t){F(t.moneyFormat),R=t.defaultCurrency,H=t.defaultMoneyFormat;var e=new Event("docapp-shipping-currency-change");document.body.dispatchEvent(e)}),(function(){g("Error while trying to get currency format")}),"POST",JSON.stringify({currency:D})))},B=function(){return!I&&D&&D===R&&H?H:I},F=function(t){I=t},G=function(){return R},U=function(){return!!D&&!!B()};function W(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],p=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);p=!0);}catch(t){l=!0,i=t}finally{try{if(!p&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(t,e)||Y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){var r;return r=function(t,e){if("object"!=V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==V(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tt=".docapp-widget, .docapp-addition, .docapp-cart-with-shipping-summary, .docapp-single-shipping-calculator, .docapp-shipping-bar",et=null,nt=null,rt=null,it=null,ot=null,at=null,ct=null,pt=null,lt=null,ut=null,st=null,dt=null,ft=null,ht=!1,gt=null,yt=null,mt=0,_t=null,vt=new URLSearchParams(window.location.search),wt=function(t){var e;if(t)_t=t;else{if(t||!_t)return null;t=_t}var n,r=JSON.parse(JSON.stringify(t)),i=function(t){var e,n;null!==(e=window.Shopify)&&void 0!==e&&e.country&&(t.country=null===(n=window.Shopify)||void 0===n?void 0:n.country);if("function"!=typeof window.docappCartModifier)return t;try{return window.docappCartModifier(t)||t}catch(t){console.error("Error during docappCartModifier execution",t)}return t};if(r.currency_rate=(n=r)&&n.currency&&"object"===N(window.Shopify)&&"object"===N(window.Shopify.currency)&&window.Shopify.currency.active===n.currency&&window.Shopify.currency.rate?window.Shopify.currency.rate:null,"function"==typeof window.xNvd){var o=0,a=w("nvdProtectionPrice"),c=w("nvdVariant");"false"===w("nvd_opted_out")&&a>0&&c>0&&(o=100*a,c=parseInt(c),0===r.items.filter((function(t){return t.variant_id===c})).length&&(r.items.push({id:c,properties:{},quantity:1,variant_id:c,key:"999999:999999",title:"Navidium Shipping Protection",price:o,original_price:o,discounted_price:o,line_price:o,original_line_price:o,total_discount:0,discounts:[],sku:"NVDPROTECTION",grams:0,vendor:"Navidium",taxable:!1,product_id:null,product_has_only_default_variant:!1,gift_card:!1,final_price:o,final_line_price:o,handle:"navidium-shipping-protection",requires_shipping:!1,product_type:"",product_title:"Navidium Shipping Protection",product_description:null,variant_title:"Navidium",variant_options:["Navidium"],options_with_values:[{name:"Title",value:"Navidium"}],line_level_discount_allocations:[],line_level_total_discount:0,has_components:!1}),r.item_count+=1,r.items_subtotal_price+=o,r.original_total_price+=o,r.total_price+=o,g("Modified NVD cart. price: "+r.total_price)))}if("number"==typeof window.monster_protection_price){var p,l=parseInt(window.monster_protection_price*((null===(p=window.Shopify)||void 0===p||null===(p=p.currency)||void 0===p?void 0:p.rate)||1)*100),u=parseInt(window.monster_protection_variant||999999);!0===window.monster_protection_selected&&l&&0===r.items.filter((function(t){return t.variant_id===u})).length&&(r.items.push({id:u,properties:{},quantity:1,variant_id:u,key:"999999:999999",title:"Monster Shipping Protection",price:l,original_price:l,discounted_price:l,line_price:l,original_line_price:l,total_discount:0,discounts:[],sku:"MONSTERPROTECTION",grams:0,vendor:"Monster",taxable:!1,product_id:null,product_has_only_default_variant:!1,gift_card:!1,final_price:l,final_line_price:l,handle:"monster-shipping-protection",requires_shipping:!1,product_type:"",product_title:"Monster Shipping Protection",product_description:null,variant_title:"Monster",variant_options:["Monster"],options_with_values:[{name:"Title",value:"Monster"}],line_level_discount_allocations:[],line_level_total_discount:0,has_components:!1}),r.item_count+=1,r.items_subtotal_price+=l,r.original_total_price+=l,r.total_price+=l,g("Modified NVD cart. price: "+r.total_price))}if(window.bcpo&&window.bcpo.price_addons&&window.bcpo.price_addons.length){var s=0,d=!1;if(window.bcpo.price_addons.forEach((function(t){var e=!1;r.items=r.items.map((function(n){var r,i,o,a;if((!t.variant_id&&(null===(r=n.product_id)||void 0===r?void 0:r.toString())===(null===(i=t.product_id)||void 0===i?void 0:i.toString())||(null===(o=n.variant_id)||void 0===o?void 0:o.toString())===(null===(a=t.variant_id)||void 0===a?void 0:a.toString()))&&t.quantity===n.quantity&&t.price_with_addon&&!n.hasOwnProperty("final_price_unmodified")&&!e){e=!0;var c=parseInt(t.price_with_addon),p=c*t.quantity,l=c-n.original_price,u=p-n.original_line_price;if(l>0||u>0||l<0||u<0)return d=!0,s+=u,Z(Z({},n),{},{original_price_unmodified:n.original_price,original_line_price_unmodified:n.original_line_price,original_price:c,original_line_price:p,final_price_unmodified:n.final_price,final_line_price_unmodified:n.final_line_price,final_price:n.final_price+l,final_line_price:n.final_line_price+u,line_price:n.final_line_price+u})}return n}))})),d){var f=nt;return r=bt(r,s),f!==(nt=r.total_price.toString())&&g("Modified BCPO cart. last price: "+f+" new price: "+nt),r.external_integration=yt="bcpo",i(r)}nt=r.total_price.toString(),r.external_integration=yt="bcpo"}if(window.pplr_draftorder){var h=0,y=!1,m=[];r.items=r.items.filter((function(t){return"PPLR_HIDDEN_PRODUCT"!==t.product_type||(m.push(t),h-=t.original_line_price,!1)})),r.items=r.items.map((function(t){var e,n=0,i=0;if(t.properties&&t.properties._pplr_inv_variant){var o=JSON.parse(t.properties._pplr_inv_variant);o&&"object"===V(o)&&(n+=o.reduce((function(t,e){return t+parseInt(e.price)*parseInt(e.quantity)}),0))}if(t.properties&&t.properties._pplr_addprice&&(n+=parseInt(t.properties._pplr_addprice)),t.properties&&t.properties._pc_pricing_qty_split){var a=J(t.properties._pc_pricing_qty_split.split("-"),2),c=a[0],p=a[1],l=m.find((function(t){return t.variant_id.toString()===c}));if(l){var u=parseInt(p);n+=l.price*u,l.line_level_discount_allocations.forEach((function(e){var n=e.amount/l.quantity*u*t.quantity;i+=n,t.line_level_discount_allocations.push({amount:n,discount_application:Z({},e.discount_application)})}))}}if(r.currency_rate&&(n*=r.currency_rate),n=parseInt(n),e=parseInt(n*t.quantity),n>0||e>0||n<0||e<0){y=!0,h+=e;var s=t.original_price+n,d=t.original_line_price+e;return Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:s,original_line_price:d,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:t.final_price+n-i/t.quantity,final_line_price:t.final_line_price+e-i,line_price:t.final_line_price+e-i,line_level_total_discount:t.line_level_total_discount+i,total_discount:t.total_discount+i})}return t}));var _=rt;if(y)return r=bt(r,h),_!==(rt=r.total_price.toString())&&g("Modified PPLR cart. last price: "+_+" new price: "+rt),r.external_integration=yt="pplr",i(r);rt=r.total_price.toString(),r.external_integration=yt="pplr"}if(window.BSS_PO&&window.BSS_PO.enable&&window.bssProductOptionsPrices&&window.bssProductOptionsPrices.cart_subtotal&&!1!==window.bssCreateDraftOrder){var v=0,b=!1;r.items=r.items.map((function(t){if(window.bssProductOptionsPrices.hasOwnProperty(t.key)&&t.final_line_price!==parseInt(window.bssProductOptionsPrices[t.key])){var e=window.bssProductOptionsPrices[t.key],n=Math.floor(e/t.quantity),r=n-t.final_price,i=e-t.final_line_price;if(r>0||i>0||r<0||i<0)return b=!0,v+=i,Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:t.original_price,original_line_price:t.original_line_price,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:n,final_line_price:e,line_price:e})}return t}));var S=it;if(b)return r=bt(r,v),S!==(it=r.total_price.toString())&&g("Modified BSS cart. last price: "+S+" new price: "+it),r.external_integration=yt="bss",i(r);it=r.total_price.toString(),r.external_integration=yt="bss"}if(window.dpoObserver&&window.dpoObserver.cartItems&&window.dpoObserver.cartItems.length){var P=0,O=!1;window.dpoObserver.cartItems.forEach((function(t){var e=!1;r.items=r.items.map((function(n){var r,i,o,a;if((!t.variant_id&&(null===(r=n.product_id)||void 0===r?void 0:r.toString())===(null===(i=t.product_id)||void 0===i?void 0:i.toString())||(null===(o=n.variant_id)||void 0===o?void 0:o.toString())===(null===(a=t.variant_id)||void 0===a?void 0:a.toString()))&&t.quantity===n.quantity&&!n.hasOwnProperty("final_price_unmodified")&&!e){e=!0;var c=t.original_price,p=t.original_line_price,l=c-n.original_price,u=p-n.original_line_price;if(l>0||u>0||l<0||u<0)return O=!0,P+=u,Z(Z({},n),{},{original_price_unmodified:n.original_price,original_line_price_unmodified:n.original_line_price,original_price:c,original_line_price:p,final_price_unmodified:n.final_price,final_line_price_unmodified:n.final_line_price,final_price:t.final_price,final_line_price:t.final_line_price,line_price:t.final_line_price})}return n}))}));var E=ot;if(O)return r=bt(r,P),E!==(ot=r.total_price.toString())&&g("Modified DPO cart. last price: "+E+" new price: "+ot),r.external_integration=yt="dpo",i(r);ot=r.total_price.toString(),r.external_integration=yt="dpo"}if(window.bbCheckCart||window.bbProcessCart){var C=0,L=!1;r.items=r.items.map((function(t){if(t.properties&&t.properties._bundle_price){L=!0;var e=Math.ceil(t.properties._bundle_price),n=e*t.quantity;return C+=n-t.original_line_price,Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:e,original_line_price:n,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:e,final_line_price:n,line_price:n})}return t}));var q=at;if(L)return r=bt(r,C),q!==(at=r.total_price.toString())&&g("Modified BB cart. last price: "+q+" new price: "+at),r.external_integration=yt="bb",i(r);at=r.total_price.toString(),r.external_integration=yt="bb"}if(window.is_hulkpo_installed&&window.hulkapps&&window.hulkapps.discounts&&window.hulkapps.discounts.cart&&window.hulkapps.discounts.cart.items&&window.hulkapps.discounts.cart.items.length){var A=0,x=!1;window.hulkapps.discounts.cart.items.forEach((function(t){var e=!1;r.items=r.items.map((function(n){var r,i,o,a;if(((null===(r=n.product_id)||void 0===r?void 0:r.toString())===(null===(i=t.variant_id)||void 0===i?void 0:i.toString())||(null===(o=n.variant_id)||void 0===o?void 0:o.toString())===(null===(a=t.variant_id)||void 0===a?void 0:a.toString()))&&parseInt(t.quantity)===n.quantity&&t.original_line_price_format&&t.original_price_format&&!n.hasOwnProperty("final_price_unmodified")&&!e){e=!0;var c=T(t.original_line_price_format),p=T(t.original_price_format);if(isNaN(c)||null===c||isNaN(p)||null===p)return n;var l=p-n.final_price,u=c-n.line_price;if(u>0||u<0)return x=!0,A+=u,Z(Z({},n),{},{original_price_unmodified:n.original_price,original_line_price_unmodified:n.original_line_price,original_price:n.original_price+l,original_line_price:n.original_line_price+u,final_price_unmodified:n.final_price,final_line_price_unmodified:n.final_line_price,final_price:p,final_line_price:c,line_price:n.final_line_price+u})}return n}))}));var k=et;if(x)return r=bt(r,A),k!==(et=r.total_price.toString())&&g("Modified HULK cart. last price: "+k+" new price: "+et),r.external_integration=yt="hulkapps",i(r);et=r.total_price.toString(),r.external_integration=yt="hulkapps"}if(window.Cloudlift&&window.Cloudlift.options&&window.Cloudlift.options.config&&"options"===window.Cloudlift.options.config.app&&!0===window.Cloudlift.options.config.priceDraft){var j=0,D=!1;r.items=r.items.map((function(t){if(!t.has_components&&t.properties&&t.properties._cl_options_price){D=!0;var e=parseInt(t.properties._cl_options_price);r.currency_rate&&(e*=r.currency_rate);var n=e*t.quantity,i=t.original_price+e,o=t.original_line_price+n;return j+=n,Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:i,original_line_price:o,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:i,final_line_price:o,line_price:o})}return t})),D&&(r.items=r.items.filter((function(t){return!t.product_type||"options_price"!==t.product_type||(r=bt(r,-1*t.line_price),!1)})));var I=ct;if(D)return r=bt(r,j),I!==(ct=r.total_price.toString())&&g("Modified LPO cart. last price: "+I+" new price: "+ct),r.external_integration=yt="lpo",i(r);ct=r.total_price.toString(),r.external_integration=yt="lpo"}if(window.BOLD&&window.BOLD.apps_installed&&window.BOLD.apps_installed["Product Options"]&&window.BOLD.common&&window.BOLD.common.cartDoctor&&window.BOLD.common.cartDoctor.cart&&window.BOLD.common.cartDoctor.cart.items.length&&(window.BOLD.common.cartDoctor.cart.total_price!==r.total_price||"bold"===yt)){var R=0,H=!1;r.items=r.items.filter((function(t){var e=window.BOLD.common.cartDoctor.cart.items.find((function(e){return e.variant_id===t.variant_id||"NVDPROTECTION"===t.sku}));return!(0!==t.line_price&&!e)||(H=!0,r=bt(r,-1*t.line_price),!1)})),window.BOLD.common.cartDoctor.cart.items.forEach((function(t){var e=0;r.items=r.items.map((function(n){if(e===t.raw_line_index&&n.variant_id===t.variant_id){var r=0;t.discounts&&t.discounts.length&&(r=t.discounts.reduce((function(t,e){return t+e.amount}),0));var i=t.original_price+Math.floor(r/t.quantity),o=t.original_line_price+r,a=i-n.original_price,c=o-n.original_line_price;if(a>0||c>0||a<0||c<0)return H=!0,R+=c,Z(Z({},n),{},{original_price_unmodified:n.original_price,original_line_price_unmodified:n.original_line_price,original_price:i,original_line_price:o,final_price_unmodified:n.final_price,final_line_price_unmodified:n.final_line_price,final_price:t.final_price,final_line_price:t.final_line_price,line_price:t.final_line_price})}return e++,n}))}));var M=pt;if(H)return r=bt(r,R),M!==(pt=r.total_price.toString())&&g("Modified BOLD cart. last price: "+M+" new price: "+pt),r.external_integration=yt="bold",i(r);pt=r.total_price.toString(),r.external_integration=yt="bold"}if(window.booster&&"code"===window.booster.discount_method&&window.booster.discounts&&window.booster.discounts.cart&&window.booster.discounts.cart.items){var z=!1,B=window.booster.discounts.cart.items.reduce((function(t,e){return t+e.quantity}),0);if(window.booster.discounts.positive_discount&&window.booster.discounts.additional_discount_value&&B===r.item_count){z=!0;var F=100*window.booster.discounts.additional_discount_value,G=F/r.total_price,U="BA_"+Math.random().toString(36).slice(2).toUpperCase();r.total_price_unmodified=r.total_price,r.total_price-=F;var W=0,Y=0;r.items=r.items.map((function(t){var e=Math.floor(t.line_price*G);return Y+t.quantity===r.item_count&&(e=F-W),Y+=t.quantity,W+=e,t.discounts.push({title:U,amount:e}),t.discounted_price=Math.floor(t.discounted_price-e/t.quantity),t.line_price=Math.floor(t.line_price-e),t})),r.cart_level_discount_applications||(r.cart_level_discount_applications=[]),r.cart_level_discount_applications.push({total_allocated_amount:F,title:U,type:"automatic",key:"booster-apps-mapped-discount",description:"",value:window.booster.discounts.additional_discount_value,created_at:(new Date).toString(),value_type:"fixed_amount",allocation_method:"across",target_selection:"all",target_type:"line_item"})}var $=lt;if($!==(lt=r.total_price.toString())&&g("Modified BOOSTER cart. last price: "+$+" new price: "+lt),z)return i(r);r.external_integration=yt="booster"}if(window.un&&window.un.cart&&window.un.cart.un_total_discount>0){var X=0;window.un.cart.items.forEach((function(t){if(t.appliedDiscount){var e=!1,n=t.appliedDiscount;r.items=r.items.map((function(r){var i,o,a,c;if((!t.variant_id&&(null===(i=r.product_id)||void 0===i?void 0:i.toString())===(null===(o=t.product_id)||void 0===o?void 0:o.toString())||(null===(a=r.variant_id)||void 0===a?void 0:a.toString())===(null===(c=t.variant_id)||void 0===c?void 0:c.toString()))&&t.quantity===r.quantity&&!r.hasOwnProperty("final_price_unmodified")&&!e){e=!0;var p=100*n.discount_amount,l=100*n.total_discount_amount,u=r.final_price-p,s=r.final_line_price-l;return r.discounts.push({title:n.title,amount:l}),r.line_level_discount_allocations||(r.line_level_discount_allocations=[]),r.line_level_discount_allocations.push({amount:l,discount_application:{type:"automatic",key:"un-app-mapped-discount",title:n.title,description:"",value:n.value,value_type:n.value_type,created_at:(new Date).toString(),total_allocated_amount:l,allocation_method:"across",target_selection:"all",target_type:"line_item"}}),X-=l,Z(Z({},r),{},{final_price_unmodified:r.final_price,final_line_price_unmodified:r.final_line_price,final_price:u,final_line_price:s,line_price:s})}return r}))}})),r.external_integration=yt="un",r.total_price_unmodified=r.total_price,r.total_price-=X;var K=ut;return K!==(ut=r.total_price.toString())&&g("Modified UN cart. last price: "+K+" new price: "+ut),i(r)}if(window.zakekeProductAdvancedProcessingDraftOrder||window.zakekeProductAdvancedProcessing){var Q=0,tt=!1;r.items=r.items.map((function(t){var e,n=0;if(t.properties&&t.properties._configurationPrice&&(n+=parseInt(t.properties._configurationPrice)),r.currency_rate&&(n*=r.currency_rate),n=parseInt(n),e=parseInt(n*t.quantity),n>0||e>0||n<0||e<0){tt=!0,Q+=e;var i=t.original_price+n,o=t.original_line_price+e;return Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:i,original_line_price:o,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:t.final_price+n,final_line_price:t.final_line_price+e,line_price:t.final_line_price+e})}return t}));var ht=st;if(tt)return r=bt(r,Q),ht!==(st=r.total_price.toString())&&g("Modified Zakeke cart. last price: "+ht+" new price: "+st),r.external_integration=yt="zakeke",i(r);st=r.total_price.toString(),r.external_integration=yt="zakeke"}if("object"===V(window.ymq)&&"function"==typeof window.ymq_ready){var gt=0,mt=!1;r.items=r.items.map((function(t){var e=0,n=0;if(t.properties&&t.properties._YmqItemPrice&&(n=(e=100*t.properties._YmqItemPrice)*t.quantity),e>0||n>0||e<0||n<0){mt=!0,gt+=n;var r=t.original_price+e,i=t.original_line_price+n;return Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:r,original_line_price:i,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:t.final_price+e,final_line_price:t.final_line_price+n,line_price:t.final_line_price+n})}return t}));var vt=dt;if(mt)return r=bt(r,gt),vt!==(dt=r.total_price.toString())&&g("Modified YMQ cart. last price: "+vt+" new price: "+dt),r.external_integration=yt="ymq",i(r);dt=r.total_price.toString()}if("object"===("undefined"==typeof GIST?"undefined":V(GIST))&&null!==(e=GIST)&&void 0!==e&&e.bundles){var wt=0,St=!1;r.items=r.items.map((function(t){var e=0,n=0;if(t.properties&&t.properties._gs_bundle_prices&&(n=(e=t.properties._gs_bundle_prices.reduce((function(t,e){return t+Number(e)}),0))*t.quantity),e>0||n>0||e<0||n<0){St=!0,wt+=n;var r=t.original_price+e,i=t.original_line_price+n;return Z(Z({},t),{},{original_price_unmodified:t.original_price,original_line_price_unmodified:t.original_line_price,original_price:r,original_line_price:i,final_price_unmodified:t.final_price,final_line_price_unmodified:t.final_line_price,final_price:t.final_price+e,final_line_price:t.final_line_price+n,line_price:t.final_line_price+n})}return t}));var Pt=ft;if(St)return r=bt(r,wt),Pt!==(ft=r.total_price.toString())&&g("Modified Giftship cart. last price: "+Pt+" new price: "+ft),r.external_integration=yt="giftship",i(r);ft=r.total_price.toString()}return i(r)};function bt(t,e){return t.items_subtotal_price_unmodified=t.items_subtotal_price,t.items_subtotal_price+=e,t.original_total_price_unmodified=t.original_total_price,t.original_total_price+=e,t.total_price_unmodified=t.total_price,t.total_price+=e,t}var St=function t(e,n,r){if((r=r||0)||ht||!gt||(ht=!0,clearTimeout(gt),gt=null),!r)try{Gt()}catch(t){console.error("Failed to handleAjaxCarts!",t)}xt(e,n,r),Ft(r),void 0!==e&&(!ht&&r<4?gt=setTimeout((function(){t(e,n,r+1)}),1500):ht=!0)},Pt=!1,Ot=!1,Et=!1,Ct=!1,Lt=!1,qt=!1,At=!1,xt=function(t,e,n){n||(Pt=!1,Ot=!1,Et=!1,Ct=!1,Lt=!1,qt=!1,At=!1),window.location.pathname.includes("/products/")&&(Ot=!0,Ct=!0,Lt=!0,qt=!0);var r=document.querySelectorAll(".docapp-cart-with-shipping-summary .affirm-cart");if(!Pt&&r.length>0&&window.affirm&&window.affirm.widgets&&window.affirm.widgets.as_low_as&&window.affirm.widgets.as_low_as.setupElements&&!window.docappSkipAffirm){try{window.affirm.widgets.as_low_as.setupElements(r),g("Updated Affirm")}catch(t){console.error("DOCAPP Error: ",t)}Pt=!0}if(!At&&e){var i=document.querySelector(".docapp-cart-with-coupon-summary .docapp-line-through, .docapp-cart-with-shipping-summary .docapp-line-through, .docapp-cart-with-volume-summary .docapp-line-through");document.querySelectorAll(".docapp-sync-subtotal").forEach((function(t){var n=t.classList.contains("docapp-with-crossed")&&i?i.parentNode.innerHTML:e,r="none"===t.style.display,o=t.querySelector(".docapp-replaces"),a=n;o&&(a="<span>"+n+"</span>"),t.innerHTML=a,r&&t.style.setProperty("display","none","important"),o&&t.querySelector("span").style.setProperty("display","none","important"),g("Synced subtotal"),window.cartShippingCalculatorProApp.syncedSubtotal=!0})),At=!0}var o=document.querySelector(".sezzle-button-text");if(!Ot&&o&&t){var a=o.textContent.match(/[0-9]+/);if(a.length){var c=parseInt(a[0]);if(c){var p=Math.ceil(t/c);g("Update Sezzle payment amount: "+p),document.querySelectorAll(".sezzle-payment-amount").forEach((function(t){t.innerHTML=x(p,B(),M())})),Ot=!0}}}var l=document.querySelectorAll(".docapp-cart-with-shipping-summary .docapp-paybright-cart");if(!Et&&l.length>0&&"function"==typeof window.pb_prequalify_init){try{window.pb_prequalify_init(),g("Updated PayBright")}catch(t){console.error("DOCAPP Error: ",t)}Et=!0}if(!Ct&&t){var u=!1;if(W(document.getElementsByTagName("klarna-placement")).forEach((function(e){e.setAttribute("data-purchase_amount",t),u=!0})),u){try{window.KlarnaOnsiteService=window.KlarnaOnsiteService||[],window.KlarnaOnsiteService.push({eventName:"refresh-placements"}),g("Updated klarna")}catch(t){console.error("DOCAPP Error: ",t)}Ct=!0}}if(!Lt&&t&&"object"===V(window.LaybuyHelper)&&"function"==typeof window.LaybuyHelper.price_mutation){try{window.LaybuyHelper.price_mutation(t,"cart"),g("Updated layBuy")}catch(t){console.error("DOCAPP Error: ",t)}Lt=!0}var s=document.querySelectorAll("scalapay-widget");!qt&&t&&s.length>0&&(s.forEach((function(e){return e.setAttribute("amount",t/100)})),qt=!0,g("Updated scalapay"))},kt=!1,jt=!1,Tt=!1,Nt=!1,Dt=!1,It=!1,Rt=!1,Ht=!1,Mt=!1,zt=!1,Bt=!1,Ft=function(t){var e=M();if(e&&e===G()&&!vt.has("docapp-currency-disabled")){if(t||(kt=!1,jt=!1,Bt=!1,Tt=!1,Nt=!1,Dt=!1,It=!1,Rt=!1,Ht=!1,Mt=!1,zt=!1),!jt&&"object"===V(window.baCurr)&&"function"==typeof window.baCurr.repeat)try{return jt=!0,void window.baCurr.repeat()}catch(t){console.error("DOCAPP Error: ",t)}if(!Tt&&"object"===V(window.DoublyGlobalCurrency)&&"function"==typeof window.DoublyGlobalCurrency.convertAll)try{return Tt=!0,void window.DoublyGlobalCurrency.convertAll(window.DoublyGlobalCurrency.currentCurrency,".money")}catch(t){console.error("DOCAPP Error: ",t)}if(!Nt&&"object"===V(window.conversionBearAutoCurrencyConverter)&&"function"==typeof window.conversionBearAutoCurrencyConverter.convertPricesOnPage&&"function"==typeof window.conversionBearAutoCurrencyConverter.getSettings&&!0===window.conversionBearAutoCurrencyConverter.getSettings().isActive&&(w("currencyWidget")||w("currencyLocation")))try{return Nt=!0,void window.conversionBearAutoCurrencyConverter.convertPricesOnPage()}catch(t){console.error("DOCAPP Error: ",t)}if(!It&&"object"===V(window.Currency)&&"function"==typeof window.Currency.convertAll&&"string"==typeof window.mlvedaShopCurrency&&"number"==typeof window.mlvedaCurrencyinterval&&"string"==typeof window.Currency.currentCurrency&&"object"===V(window.Currency.moneyFormats)&&"object"===V(window.Currency.moneyFormats[window.Currency.currentCurrency]))try{return It=!0,void window.Currency.convertAll(window.mlvedaShopCurrency,window.Currency.currentCurrency)}catch(t){console.error("DOCAPP Error: ",t)}if(!zt&&"string"==typeof transcy_curencyDefault&&"object"===V(window._transcy)&&"object"===V(window._transcy.methods)&&"function"==typeof window._transcy.methods.convertCurrency)try{return zt=!0,void("function"==typeof window._transcy.methods.reConvertCurrency?window._transcy.methods.reConvertCurrency():window._transcy.methods.convertCurrency())}catch(t){console.error("DOCAPP Error: ",t)}if(!Bt&&"object"===V(window.bucksCC)&&"function"==typeof window.bucksCC.reConvert)try{return Bt=!0,void window.bucksCC.reConvert()}catch(t){console.error("DOCAPP Error: ",t)}if(!kt&&"function"==typeof window.convertCurrencies&&"object"===V(window.Currency))try{kt=!0,window.convertCurrencies()}catch(t){console.error("DOCAPP Error: ",t)}if(!Dt&&"object"===V(window.currencyConverter)&&"function"==typeof window.currencyConverter.init&&"object"===V(window.Currency))try{Dt=!0,window.currencyConverter.init()}catch(t){console.error("DOCAPP Error: ",t)}if(!Ht&&M()&&"object"===V(window.Currency)&&"function"==typeof window.Currency.convertAll&&"string"==typeof window.Currency.currentCurrency&&M()!==window.Currency.currentCurrency&&"object"===V(window.Currency.moneyFormats)&&"object"===V(window.Currency.moneyFormats[window.Currency.currentCurrency]))try{Ht=!0,window.Currency.convertAll(M(),window.Currency.currentCurrency)}catch(t){console.error("DOCAPP Error: ",t)}if(Mt||!document.querySelector(".CurrencySelector__Select")||document.querySelector(".CurrencySelector__Select").getAttribute("onchange")&&document.querySelector(".CurrencySelector__Select").getAttribute("onchange").includes("form.submit")||(Mt=!0,document.querySelector(".CurrencySelector__Select").dispatchEvent(new Event("change"))),!Rt&&"function"==typeof window.currenciesChange)try{Rt=!0,window.currenciesChange(".money")}catch(t){console.error("DOCAPP Error: ",t)}}},Gt=function(){if(!document.querySelector(".CartDrawer.is-expanded")){Ut();var t=document.querySelector(".ajax-cart__container .cart__checkout-holder");t&&t.querySelector(tt)&&(setTimeout(Ut,500),setTimeout(Ut,1e3),g("Ran drawer height update - cart__checkout-holder"))}var e=document.querySelector(".ajaxcart__footer.ajaxcart__footer--fixed"),n=document.querySelector(".ajaxcart__inner.ajaxcart__inner--has-fixed-footer");e&&n&&e.querySelector(tt)&&(Wt(e,n),setTimeout((function(){return Wt(e,n)}),500),setTimeout((function(){return Wt(e,n)}),1e3),g("Ran drawer height update - ajaxcart__footer"));var r=document.querySelector(".ajax-cart__container .cart__checkout-holder");r&&r.querySelector(tt)&&(r.style.setProperty("height","auto","important"),g("Ran drawer height update - ajax-cart__container"));var i=document.querySelector(".boost-pfs-minicart-content");if(i&&i.querySelector(tt)){var o=document.querySelector(".boost-pfs-minicart-top"),a=document.querySelector(".boost-pfs-minicart-heading"),c=document.querySelector(".boost-pfs-minicart-bottom"),p=a?c.offsetHeight+a.offsetHeight:c.offsetHeight;o.style.setProperty("height","calc(100% - ".concat(p,"px)"),"important"),g("Ran drawer height update - boost-pfs-minicart-content")}var l=document.querySelector(".minicart .mini-content .sub-total");if(l&&l.querySelector(tt)){var u=document.querySelector(".minicart .mini-content .sub-total");u.style.setProperty("height","auto","important"),u.style.setProperty("line-height","normal","important"),document.querySelector(".minicart .mini-content .prod").style.setProperty("height","calc(100vh - ".concat(u.offsetHeight,"px)"),"important"),g("Ran drawer height update - minicart")}var s=document.querySelector(".ajax-cart--bottom-wrapper .cart--subtotals");s&&s.querySelector(tt)&&(s.style.setProperty("display","block","important"),g("Ran drawer height update - ajax-cart--bottom-wrapper"));var d=document.querySelector(".mini-cart .mini-cart__content");if(d&&d.querySelector(tt)&&2===d.querySelectorAll(".mini-cart__items,.mini-cart__footer").length){var f=d.querySelector(".mini-cart__items"),h=d.querySelector(".mini-cart__footer"),y=h?h.offsetHeight:92;f.style.setProperty("height","calc(100% - ".concat(y,"px)"),"important"),f.style.setProperty("padding","0","important"),g("Ran drawer height update - mini-cart")}var m=document.querySelector(".go-cart-drawer"),_=document.querySelector(".go-cart-drawer > .go-cart-overflow");if(m&&!_&&m.querySelector(tt)){var v=m.querySelector(".go-cart-drawer__header").offsetHeight,w=m.querySelector(".go-cart-drawer__wholesale_discount_bar");w&&(v+=w.offsetHeight);var b=m.querySelector(".go-cart-drawer__subtotal");b&&(b.style.setProperty("height","auto","important"),v+=b.offsetHeight);var S=m.querySelector(".go-cart-drawer__footer");S&&(S.style.setProperty("height","auto","important"),v+=S.offsetHeight);var P=m.querySelector(".go-cart-drawer__message");P&&(P.style.setProperty("height","auto","important"),v+=P.offsetHeight),m.querySelector(".go-cart-drawer__content").style.setProperty("height","calc(100% - ".concat(v,"px)"),"important"),g("Ran drawer height update - go-cart-drawer")}var O=document.querySelector(".Cart__Checkout .Button__SeparatorDot");if(O&&!O.parentElement.querySelector(".docapp-sync-subtotal")){var E=O.nextElementSibling,C=q(E.textContent.trim());C.length<20&&C.match(/\d+/)&&E.classList.add("docapp-sync-subtotal"),g("Ran drawer height update - Cart__Checkout")}var L=document.querySelector(".dropdown-cart.js-header-dropdown-cart");if(L&&L.querySelector(tt)){var A=L.querySelector("main.dropdown-cart_body"),x=L.querySelector("footer.dropdown-cart_footer");if(A&&x){A.style.setProperty("max-height","100px");var k=x.offsetHeight+75;A.style.setProperty("max-height","calc(100vh - ".concat(k,"px)"))}g("Ran drawer height update - dropdown-cart")}var j=document.getElementById("slidecarthq");if(j&&j.querySelector(tt)){var T=j.querySelector(".footer-sticky");T&&T.style.setProperty("z-index","999999999"),g("Ran drawer height update - slidecarthq")}};function Ut(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}function Wt(t,e){if(t&&e&&t.querySelector(tt)){var n=t.querySelector(".docapp-cart-with-shipping-summary"),r=t.querySelector(".docapp-single-shipping-calculator"),i=t.querySelector(".docapp-shipping-bar");n?(n.style.minHeight="0px",n.style.height="auto"):r?(r.style.minHeight="0px",r.style.height="auto"):i&&(i.style.minHeight="0px",i.style.height="auto"),t.style.minHeight="0px",t.style.height="auto",t.style.height=t.offsetHeight+"px",e.style.bottom=t.offsetHeight+"px"}}function Jt(){setTimeout((function(){var t=document.querySelector(".Cart.Drawer__Content");if(t){var e=t.querySelector(".Cart__OffscreenNoteContainer");e&&("true"===e.getAttribute("aria-hidden")&&t.getBoundingClientRect().height<=480?e.style.transform="translateY(200%)":e.style.transform="")}}),10)}window.addEventListener&&window.addEventListener("resize",(function(){!function(){var t=document.querySelector(".Cart.Drawer__Content");if(t&&t.querySelector(tt)){var e=t.querySelector(".Drawer__Footer"),n=t.querySelector(".Cart__OffscreenNoteContainer");e&&(t.querySelectorAll('.Cart__NoteButton, [data-action="toggle-cart-note"]').forEach((function(t){t.removeEventListener("click",Jt),t.addEventListener("click",Jt)})),t.getBoundingClientRect().height>480?(e.style.maxHeight="",e.style.overflowY="initial",e.removeAttribute("data-scrollable"),n&&(n.style.transform="")):(e.style.maxHeight="50%",e.style.overflowY="auto",e.setAttribute("data-scrollable",""),n&&(n.style.transform="translateY(200%)")))}}()}));const Yt={isLoading:!1,setLoading:function(t){g("Set loading ON"),this.isLoading=!0,document.querySelectorAll(t).forEach((function(t){t.classList.contains("docapp-active")||t.classList.add("docapp-active")}))},setNotLoading:function(){g("Set loading OFF"),this.isLoading=!1,document.querySelectorAll(".docapp-active").forEach((function(t){t.classList.remove("docapp-active")}))}};var $t={success:"docapp-alert-success",danger:"docapp-alert-danger",neutral:"docapp-alert-neutral"},Xt=function(t,e,n){if(t){g("Showing custom alert for container "+t.classList.toString());var r=t.querySelector(".docapp-shipping--message-container");Object.keys($t).forEach((function(t){t===n?r.classList.add($t[t]):r.classList.remove($t[t])})),r.querySelector(".docapp-shipping--message-content").innerHTML=e,r.classList.remove("docapp-hide")}},Vt=function(){document.querySelectorAll(".docapp-shipping--message-container").forEach((function(t){t.classList.add("docapp-hide")}))};function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}var Zt="/account/",Qt=["/cart/add","/cart/update","/cart/change","/cart/clear","/api/variant-id-checker-api-march"],te=["/discount/","/checkout?discount="],ee=["/discount/get_cart_details","/cart-discount/","/apps/","SD_CLEAR_DISCOUNT","_tbn_ignored","/api/"],ne=!1,re=!1,ie={},oe={},ae=null,ce=null,pe=null,le=!0,ue=!1,se=!1,de=window.__docappRequestInterceptor||{onCartChange:function(t,e){ie[t]=e},onDiscountApplied:function(t,e){oe[t]=e},start:function(){!function(){if(ne)return!1;ne=!0,_e(),window.fetch&&ve();we(),setTimeout(we,2e3),window.addEventListener("OpusCartChange",(function(){me()})),window.docappDisableOnClickCartTracker||function(){return location.pathname.includes(Zt)}()||document.addEventListener("click",(function(){!window.docappDisableOnClickCartTracker&&le&&(pe=setTimeout(me,1e3))}));setTimeout((function(){return ue=!0}),3e3),be(),setTimeout((function(){return be()}),4e3)}()},check:function(){},runCartChange:function(t){Object.keys(ie).forEach((function(e){return ie[e](t)}))}};function fe(t,e){!ue||window.Fondue||window.FGSECOMAPP||(le=!1);var n=t[1],r=t[0]||"GET";g("#### onLoad ####",{path:n,method:r}),ge(n,r)&&(se=!1,me())}function he(t){if(!Object.keys(oe).length||!t)return!1;var e,n=te.find((function(e){return t.includes(e)})),r=ee.find((function(e){return t.includes(e)}));if(!n||r)return!1;if(t.includes("/checkout")&&t.includes("?")){var i=t.split("?")[1];e=new URLSearchParams(i).get("discount")}else{var o=t.split(n).pop();e=function(t){if(!t)return t;if(0===t.replace("+","").trim().length)return null;try{return t.split("+").map((function(t){return decodeURIComponent(decodeURIComponent(t))})).join("+")}catch(e){return console.error("Failed to decodeURIComponent discount code! ",t),null}}(o=o.split("?")[0])}return!!(e&&e.trim().length>0)&&(function(t){var e=Object.keys(oe);if(!e.length)return!1;ae&&(clearTimeout(ae),ae=null);var n=function(){return e.forEach((function(e){return oe[e](t)}))};ae=setTimeout(n,25)}(e),!0)}function ge(t,e){if(!Object.keys(ie).length||!t)return!1;var n=ee.find((function(e){return t.includes(e)}));return(Qt.find((function(e){return t.includes(e)}))||t.includes("/cart.html")&&e&&"POST"===e.toUpperCase())&&!n}function ye(t,e){var n=ee.find((function(e){return t.includes(e)}));if(!(Qt.find((function(e){return t.includes(e)}))||t.includes("/cart.html")&&e&&"POST"===e.toUpperCase())||n)return!1;var r=new Event("docapp-cart-change");return document.body.dispatchEvent(r),se=!0,setTimeout((function(){se&&(g("#### MISSING LOAD EVENT VERIFICATION FIRED ####"),se=!1,me())}),1e3),!0}function me(){pe&&(clearTimeout(pe),pe=null);var t=Object.keys(ie);if(t.length){ce&&(clearTimeout(ce),ce=null);ce=setTimeout((function(){return Le(null,(function(e){return t.forEach((function(t){return ie[t](e)}))}))}),25)}}function _e(){var t=XMLHttpRequest.prototype.open;XMLHttpRequest.callbacks||(XMLHttpRequest.callbacks=[]),XMLHttpRequest.prototype.open=function(){try{if(!this.isDocappHandledRequest){var e=arguments;setTimeout((function(){return function(t){var e=t[1],n=t[0]||"GET";g("#### onOpen ####",{path:e,method:n}),ye(e,n),he(e)}(e)}),1)}}catch(t){console.error("Error during XMLHttpRequest.prototype.open handler!",t)}return this.isDocappHandledRequest||this.addEventListener("load",fe.bind(window,arguments,this)),this.isDocappHandledRequest=!0,t.apply(this,arguments)}}function ve(){var t=window.fetch;window.fetch=function(){var e=arguments;try{var n=arguments;setTimeout((function(){return function(t){var e,n;"string"==typeof t[0]?(ye(e=t[0],n="object"===Kt(t[1])&&"string"==typeof t[1].method?t[1].method:"GET"),he(e)):"object"===Kt(t[0])&&t[0].url&&(ye(e=t[0].url,n=t[0].method||"GET"),he(e)),g("#### onFetch ####",{path:e,method:n})}(n)}),1)}catch(t){console.error("Error during fetch call handler!",t)}var r=t.apply(window,arguments);return r.then((function(t){try{var n=e;t.clone();setTimeout((function(){return function(t,e){var n,r;!ue||window.Fondue||window.FGSECOMAPP||(le=!1),"string"==typeof t[0]?ge(n=t[0],r="object"===Kt(t[1])&&"string"==typeof t[1].method?t[1].method:"GET")&&(se=!1,me()):"object"===Kt(t[0])&&t[0].url&&ge(n=t[0].url,r=t[0].method||"GET")&&(se=!1,me()),g("#### onFetchResponse ####",{path:n,method:r})}(n)}),1)}catch(t){console.error("Error during onFetchResponse handler!",t)}})),r}}function we(){re||"function"==typeof $&&"function"==typeof $.ajaxSetup&&(re=!0,$.ajaxSetup({beforeSend:function(t,e){ge(e.url,e.type)&&t.then(me)}}))}function be(){document.querySelectorAll('form[action*="/account"], form[action*="/localization"]').forEach((function(t){t.addEventListener("click",(function(){le=!1}),{capture:!0})}))}window.__docappRequestInterceptor=de;const Se=de;var Pe=null,Oe=function(){return Pe},Ee=function(t){return Pe=t},Ce=!1,Le=function(t,e){y((Ce?"/cart/update.js":"/cart.js")+"?v="+Math.floor(99999*Math.random())+1,(function(t,n){z(t.currency);var r=wt(t);Ee(JSON.parse(JSON.stringify(r))),e(r,n)}),(function(e){Yt.setNotLoading(),t?Xt(t,"Error, please refresh the page.","danger"):console.error(e)}))},qe={shopOptions:null,waitingForRates:!1,initialRatesRequested:!1,initialRatesLoaded:!1,hadShippingBarOnPage:!1,shippingBarWillPopulateRates:!1,countryOptions:null,provinceOptions:null,countriesWithNoPostal:["AE","CO","CL"],shippingBars:[],singleCalculators:[],cartSummaries:[],cartSummary:null,pollingLoopPaused:!1},Ae=function(){return qe.shopOptions},xe=function(){return qe.waitingForRates},ke=function(){return qe.initialRatesRequested},je=function(){return qe.initialRatesLoaded},Te=function(){return qe.hadShippingBarOnPage},Ne=function(){return qe.shippingBarWillPopulateRates},De=function(){return qe.countryOptions},Ie=function(){return qe.provinceOptions},Re=function(){return qe.countriesWithNoPostal},He=function(){return qe.shippingBars},Me=function(){return qe.singleCalculators},ze=function(){return qe.cartSummaries},Be=function(){return qe.cartSummary},Fe=function(){return qe.pollingLoopPaused},Ge=function(t){qe.shopOptions=t},Ue=function(t){qe.waitingForRates=t},We=function(t){qe.initialRatesRequested=t},Je=function(t){qe.initialRatesLoaded=t},Ye=function(t){qe.shippingBarWillPopulateRates=t},$e=function(t){qe.countryOptions=t},Xe=function(t){qe.provinceOptions=t},Ve=function(t){qe.shippingBars=t},Ke=function(t){qe.cartSummary=t},Ze=function(t){qe.pollingLoopPaused=t},Qe=function(t){if(!t||!t.items||!t.items.length)return"";var e=t.external_integration||"";return(t.items.map((function(t){return(t.key||t.id)+"-"+t.quantity+"-"+function(t){return t&&t.length?t.map((function(t){return"".concat(t.title,"-").concat(t.amount)})).join("-"):"0"}(t.discounts)})).join("|")+"|"+t.total_price+"|"+e+"|"+t.currency+"|"+G()).toLowerCase()};var tn=function(t,e){if(t)try{t.value=e}catch(e){console.error("Error during value setter for element: ",t)}};function en(t,e){var n,r=t.querySelector(".docapp-shipping-calculator");if(!r)return g("No calculator in cart. End"),t.querySelector(".docapp-preload")||ur({shippingOptions:null,cartHash:null}),Yt.setNotLoading(),void We(!0);var i=t.classList.contains("docapp-cart-with-shipping-summary"),o=sr();if(!o||!o.country){var a,c;i&&(r.classList.remove("docapp-hide"),Gt()),ur({shippingOptions:null,cartHash:null}),Yt.setNotLoading();var p=null===(a=Ae())||void 0===a?void 0:a.default_country;return p&&null!==(c=De())&&void 0!==c&&c.some((function(t){return t.code===p}))&&(tn(t.querySelector(".docapp-country-input select"),p),an(t,p)),g("No user location - END."),void We(!0)}var l=null,u=De().some((function(e){if(e.code===o.country){var n=o.zip&&!Re().includes(o.country)?'<span class="docapp-zip-label">'.concat(o.zip,", </span>"):"";return l=n+e.name,tn(t.querySelector(".docapp-country-input select"),o.country),an(t,o.country),!0}})),s=!1;if(o.province&&null!==(n=Ie())&&void 0!==n&&null!==(n=n[o.country])&&void 0!==n&&n.length&&(s=Ie()[o.country].some((function(t){if(t.code===o.province){var e=o.zip&&!Re().includes(o.country)?'<span class="docapp-zip-label">, '.concat(o.zip,"</span>"):"";return l=t.name+e,!0}}))),u){i&&(t.querySelector(".docapp-shipping-show-trigger").innerHTML=": ".concat(l,'. <span class="docapp-trigger-label">').concat(Ae().shipping_calculator_trigger_text,"</span>")),tn(t.querySelector(".docapp-province-input select"),s?o.province:""),tn(t.querySelector('input[name="shipping_address[city]"]'),o.city),tn(t.querySelector('input[name="shipping_address[zip]"]'),o.zip),tn(t.querySelector('input[name="shipping_address[address1]"]'),o.address1||"");var d=!i&&t.querySelector(".docapp-shipping-show-trigger")&&t.querySelector(".docapp-shipping-show-trigger").classList.contains("docapp-trigger-activated");i||d?gn(t,e):(g("No populating rates for collapsed single calc."),Yt.setNotLoading())}else g("Customer country not supported. End"),ur({shippingOptions:null,cartHash:null}),Yt.setNotLoading(),i&&(r.classList.remove("docapp-hide"),Gt())}function nn(t){var e;if(null!==(e=De())&&void 0!==e&&e.length){var n=t.querySelector(".docapp-shipping-show-trigger");if(n){var r=t.classList.contains("docapp-cart-with-shipping-summary"),i=function(e){void 0!==e.key&&"Enter"!==e.key||void 0!==e.keyCode&&13!==e.keyCode||void 0!==e.code&&"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.stopPropagation(),r?(n.innerHTML="",t.querySelector(".docapp-shipping-calculator").classList.remove("docapp-hide")):(t.querySelector(".docapp-shipping-calculator--body").classList.toggle("docapp-hide"),n.classList.contains("docapp-trigger-activated")?(n.classList.remove("docapp-trigger-activated"),t.querySelector(".docapp-shipping-calculator").classList.add("docapp-hide"),t.querySelector(".docapp-shipping-calculator--rates").classList.add("docapp-hide"),t.querySelector(".docapp-shipping--message-container").classList.add("docapp-hide")):(n.classList.add("docapp-trigger-activated"),t.querySelector(".docapp-shipping-calculator").classList.remove("docapp-hide"),Le(t,(function(e){gn(t,e)})))),Gt())};n.addEventListener("click",i),n.addEventListener("keypress",i)}var o=t.querySelector(".docapp-shipping-calculator--button");if(o){var a=function(e){void 0!==e.key&&"Enter"!==e.key||void 0!==e.keyCode&&13!==e.keyCode||void 0!==e.code&&"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),ln(t,".docapp-shipping-calculator--loader"),Nn(t))};o.addEventListener("click",a),o.addEventListener("keypress",a)}t.querySelectorAll(".docapp-shipping-calculator--input input").forEach((function(e){e.addEventListener("keypress",(function(e){pn(),void 0!==e.key&&"Enter"!==e.key||void 0!==e.keyCode&&13!==e.keyCode||void 0!==e.code&&"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),e.stopPropagation(),ln(t,".docapp-shipping-calculator--loader"),Nn(t))})),e.addEventListener("change",(function(t){t.stopPropagation()}))}))}else{var c=t.querySelector(".docapp-cart-shipping");c&&c.classList.add("docapp-hide")}}function rn(t){var e=document.querySelectorAll(".docapp-cart-with-shipping-summary .docapp-shipping-show-trigger");if(e.length>0){var n;if((t=t||sr()).zip)if(t.province){var r=Ie()[t.country].find((function(e){return e.code===t.province}));n="".concat((null==r?void 0:r.name)||t.province,'<span class="docapp-zip-label">, ').concat(t.zip,"</span>")}else n='<span class="docapp-zip-label">'.concat(t.zip,", </span>").concat(t.country);else if(t.province){var i=Ie()[t.country].find((function(e){return e.code===t.province}));n=(null==i?void 0:i.name)||t.province}else n=t.country;e.forEach((function(t){var e;t.innerHTML=": ".concat(n,'. <span class="docapp-trigger-label">').concat(Ae().shipping_calculator_trigger_text,"</span>"),null===(e=t.closest(".docapp-cart-with-shipping-summary"))||void 0===e||e.querySelector(".docapp-shipping-calculator").classList.add("docapp-hide")}))}}function on(t){var e=t.querySelector(".docapp-country-input select");if(e){var n=t.classList.contains("docapp-cart-with-shipping-summary")?Ae().country_dropdown_label:Ae().single_calculator_country_dropdown_label,r=De();if(1===r.length)e.innerHTML='<option value="'.concat(r[0].code,'" selected>').concat(r[0].name,"</option>"),an(t,r[0].code),t.querySelector(".docapp-country-input").classList.add("docapp-hide");else{var i='<option value="" disabled selected hidden>'.concat(n,"</option>");r.forEach((function(t){i+='<option value="'.concat(t.code,'">').concat(t.name,"</option>")})),e.innerHTML=i,e.addEventListener("change",(function(n){n.stopPropagation(),an(t,e.value),t.querySelectorAll(".docapp-city-input input, .docapp-zip-input input, .docapp-address1-input input").forEach((function(t){return t.value=""}))}))}t.querySelector(".docapp-province-input select").addEventListener("change",(function(t){t.stopPropagation(),pn()}))}}function an(t,e){var n;pn();var r=t.querySelector(".docapp-province-input select");tn(r,"");var i=t.classList.contains("docapp-cart-with-shipping-summary")?Ae().province_dropdown_label:Ae().single_calculator_province_dropdown_label,o='<option value="" disabled selected hidden>'.concat(i,"</option>"),a=null===(n=Ie())||void 0===n?void 0:n[e];null!=a&&a.length?(1===a.length?a.forEach((function(t){o='<option value="'.concat(t.code,'" selected>').concat(t.name,"</option>")})):a.forEach((function(t){o+='<option value="'.concat(t.code,'">').concat(t.name,"</option>")})),r.innerHTML=o,t.querySelector(".docapp-province-input").classList.remove("docapp-hide")):(r.innerHTML=o,t.querySelector(".docapp-province-input").classList.add("docapp-hide")),Re().includes(e)?t.querySelector(".docapp-zip-input").classList.add("docapp-hide"):t.querySelector(".docapp-zip-input").classList.remove("docapp-hide")}function cn(t){var e=!t.parentElement.classList.contains("docapp-shipping-calculator--body"),n=t.parentElement.parentElement.querySelector(".docapp-shipping-calculator");if(n){var r=n.querySelector(".docapp-country-input select"),i=n.querySelector(".docapp-province-input select"),o=n.querySelector('input[name="shipping_address[city]"]'),a=n.querySelector('input[name="shipping_address[zip]"]'),c=n.querySelector('input[name="shipping_address[address1]"]'),p=sr();(r.value!==p.country||i.value!==p.province||o&&o.value!==p.city||a.value!==p.zip||c&&c.value!==p.address1)&&(tn(r,p.country),an(t.parentElement.parentElement,p.country),tn(i,p.province),tn(o,p.city),tn(a,p.zip),tn(c,p.address1||""),e&&(t.parentElement.parentElement.querySelector(".docapp-shipping-show-trigger").innerHTML="",n.classList.remove("docapp-hide")))}}function pn(){document.querySelectorAll(".docapp-shipping-calculator--input .docapp-error-label").forEach((function(t){t.innerHTML="",t.parentElement.classList.remove("docapp-has-error")}))}function ln(t,e){if(t){g("prepare UI for update"),Vt();var n=t.querySelector(".docapp-shipping-calculator--rates");if(n)n.classList.add("docapp-hide"),!n.parentElement.classList.contains("docapp-shipping-calculator--body")&&U()&&mn(0);Yt.setLoading(e)}}function un(t){var e=t.querySelector(".docapp-shipping--message-container");e&&(e.addEventListener("click",(function(t){t.stopPropagation()})),t.querySelector(".docapp-shipping--message-x").addEventListener("click",(function(t){t.stopPropagation(),e.classList.add("docapp-hide")})))}var sn='<div class="docapp-shipping-rate">\n        <div class="docapp-shipping-rate-name">\n            <label><input type="radio" name="shipping_rate" value="{amount}" {checked}> {name}</label>\n        </div>\n        <div class="docapp-shipping-rate-price" data-index="{rateIndex}">{price}</div>\n    </div>',dn=".docapp-cart-with-shipping-summary .docapp-shipping-calculator--rates:nth-child(2),.docapp-single-shipping-calculator .docapp-shipping-calculator--rates:nth-child(2)",fn=".docapp-cart-with-shipping-summary",hn=!1;function gn(t,e){var n=sr();if(!(n&&n.country&&e&&e.items&&0!==e.items.length))return g("Not enough information to ask for rates. End"),ur({shippingOptions:null,cartHash:null}),Yt.setNotLoading(),void We(!0);if(function(t){if(!t)return!1;var e=sr();if(!e||!e.country)return!1;var n=t.querySelector(".docapp-country-input select"),r=t.querySelector(".docapp-province-input select"),i=t.querySelector('input[name="shipping_address[city]"]'),o=t.querySelector('input[name="shipping_address[zip]"]'),a=t.querySelector('input[name="shipping_address[address1]"]');return n.value!==e.country||r.children.length>1&&e.province&&r.value&&r.value!==e.province||i&&e.city&&i.value!==e.city||a&&e.address1&&a.value!==e.address1||e.zip&&o.value!==e.zip}(t))return g("Location inputs dirty, not overwriting."),void Yt.setNotLoading();var r=lr();if(r&&r.shippingOptions&&r.shippingOptions.length&&r.cartHash===Qe(e)){if(!U())return g("Money formatting not set up yet, wait!"),void setTimeout((function(){gn(t,e)}),150);We(!0),Je(!0),g("Begin generating known rates HTML."),yn(r.shippingOptions)}else g("Calculating rates for known location..."),je()||ln(t,".docapp-shipping-calculator--loader"),hn?g("SKIP Calculating rates after populating the location"):(Nn(t,e),hn=!0,setTimeout((function(){return hn=!1}),50))}function yn(t){if(!xe())if(Ne())g("shippingBarWillPopulateRates is true, populateRates END.");else{if(!t)t=lr().shippingOptions||null;if(!t||!t.length)return g("populateRates shippingOptions empty! Show no rates message."),void _n();t=t.filter((function(t){return null!==t.finalPrice}));var e=wn(Ae().shipping_rates_title),n=wn(Ae().single_calculator_rates_title),r=0,i=!1;if(t.sort((function(t,e){return parseFloat(t.finalPrice)>parseFloat(e.finalPrice)?1:-1})),t.forEach((function(t){var o=bn(t,r,!1),a=bn(t,r,!0);r+=1,null!==o&&null!==a&&(e+=o,n+=a,i=!0)})),!i)return g("All rateHtml was null! Show rates not retrievable message."),void function(){if(xe())return;Yt.setNotLoading(),vn(Ae().shipping_rates_not_retrievable,Ae().single_calculator_rates_not_retrievable)}();document.querySelectorAll(dn).forEach((function(t){if(cn(t),!t.parentElement.classList.contains("docapp-shipping-calculator--body")){g("Populate rates in cart summary");var r=Math.floor(99999*Math.random())+1;t.innerHTML=e.replace(/name="shipping_rate"/g,'name="shipping_rate_'.concat(r,'"')),t.querySelectorAll(".docapp-shipping-rate-name input[name]").forEach((function(t){t.addEventListener("click",(function(e){var n=t.closest(".docapp-shipping-rate").querySelector(".docapp-shipping-rate-price").getAttribute("data-index");mn(e.target.value,n),ur({selectedShippingRateName:lr().shippingOptions[n].name})}))}))}else g("Populate rates in single calc"),t.innerHTML=n;t.classList.remove("docapp-hide")})),function(t){if(!t)return;var e=lr(),n=e?e.selectedShippingRateName:null;n&&0===t.filter((function(t){return t.name===n&&null!==t.finalPrice})).length&&(n=null);var r=0;for(;r<t.length;)if(n&&t[r].name!==n)r+=1;else{if(null!==t[r].finalPrice)return void mn(t[r].finalPrice,r);r+=1}}(t),xe()||Yt.setNotLoading()}}function mn(t,e){e=e||0,document.querySelectorAll(".docapp-shipping-rate-price.docapp-selected").forEach((function(t){t.classList.remove("docapp-selected")})),document.querySelectorAll('.docapp-shipping-rate-price[data-index="'+e+'"]').forEach((function(t){t.classList.add("docapp-selected");var e=t.closest(".docapp-shipping-rate").querySelector('input[type="radio"]');e&&(e.checked=!0)}));var n,r,i,o=null,a=null;document.querySelectorAll(fn).forEach((function(e){var n=e.querySelector(".docapp-cart-with-shipping-summary .docapp-est-total.docapp-perm");if(n&&n.hasAttribute("data-amount-no-shipping")){var r=function(e){o=parseInt(e.getAttribute("data-amount-no-shipping")),a=o+parseInt(t);var n=e.querySelector(".docapp-right > span:not(.docapp-line-through)");return n||(n=e.querySelector(".docapp-right")),n.innerHTML=x(a,B(),M()),n}(n);!function(e){var n=e.querySelector(".docapp-line-through");if(n){var r=parseInt(n.getAttribute("data-crossed-out-amount"))+parseInt(t);n.innerHTML=x(r,B(),M())}}(n);var i=r.textContent.trim();r.setAttribute("data-est-total",a.toString()),document.querySelectorAll(".affirm-cart").forEach((function(t){t.setAttribute("data-amount",a.toString())})),document.querySelectorAll(".paybright-widget-container").forEach((function(t){t.setAttribute("data-pb_financedamount",i)}))}})),null!==a&&(n=parseInt(t),r=a,(i=new Event("docapp-shipping-rate-chosen")).payload={rateAmount:n,estTotal:r},document.body.dispatchEvent(i),St(a,x(a,B(),M())))}function _n(){xe()||(Yt.setNotLoading(),vn(Ae().shipping_rates_not_found,Ae().single_calculator_rates_not_found))}function vn(t,e){e=e||t,document.querySelectorAll(dn).forEach((function(n){cn(n);var r=!n.parentElement.classList.contains("docapp-shipping-calculator--body"),i=!r&&!n.parentElement.classList.contains("docapp-hide");n.innerHTML='<div class="docapp-shipping-rate docapp-no-rates">'+(r?t:e)+"</div>",(r||i)&&n.classList.remove("docapp-hide")}))}function wn(t){return t&&t.trim().length?'<div class="docapp-shipping-calculator--rates-title">'+t+"</div>":""}function bn(t,e,n){var r,i=t.presentmentName||t.name;if(r=t.prefix?t.prefix+i:i.replace(/\w/,(function(t){return t.charAt(0).toUpperCase()+t.substring(1)})),null===t.finalPrice)return"";if((n?!!Ae().single_calculator_show_estimate:!!Ae().shipping_rate_show_estimate)&&t.days){var o=t.plural?"".concat(t.days," ").concat(n?Ae().single_calculator_rate_days_suffix:Ae().shipping_rate_days_suffix):"".concat(t.days," ").concat(n?Ae().single_calculator_rate_day_suffix:Ae().shipping_rate_day_suffix);r+=" (".concat(o,")")}(!(!t.cleanedSource||!["sunsky api","advantage rate provider","shipping rate provide by webbee"].includes(t.cleanedSource.toLowerCase()))||(n?!!Ae().single_calculator_show_rate_description:!!Ae().shipping_rate_show_rate_description))&&t.description&&t.description.length&&(r+='<br><span class="docapp-shipping-rate-description">'.concat(t.description,"</span>"));var a=n?Ae().single_calculator_rate_free_label:Ae().shipping_rate_free_label;a.includes("{{amount}}")&&(a=a.replace("{{amount}}",x(t.finalPrice,B(),M()))),a='<span class="docapp-free-shipping-amount">'.concat(a,"</span>");var c=0===parseInt(t.finalPrice)?a:x(t.finalPrice,B(),M());"function"==typeof window.cartShippingCalculatorProApp.customizeRatePriceHandler&&(c=window.cartShippingCalculatorProApp.customizeRatePriceHandler(t)||c),"function"==typeof window.cartShippingCalculatorProApp.customizeRateNameHandler&&(r=window.cartShippingCalculatorProApp.customizeRateNameHandler(t,r)||r);var p=sn.replace("{checked}",0===e?"checked":"").replace("{rateIndex}",e).replace("{name}",r).replace("{amount}",t.finalPrice.toString()).replace("{price}",c);return n?p.replace('name="shipping_rate"',""):p}function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function Pn(){return"object"===Sn(window.freeGiftCartUpsellProApp)&&"function"==typeof window.freeGiftCartUpsellProApp.updateWidgets}function On(){return"object"===Sn(window.discountOnCartProApp)&&"function"==typeof window.discountOnCartProApp.updateWidgets}var En=".docapp-shipping-bar",Cn=null,Ln=null,qn=null;function An(t){var e=lr(),n=sr(),i=C(),a=e?e.shippingOptions:null;a&&a.length&&(a=a.filter((function(t){return!t.fromOverride}))),g("Begin generate shipping bars"),y(r+"shipping-bar",(function(t){Cn=t.shipping_bar_html,function(){var t=document.querySelectorAll(En);if(Ve(t),0===t.length)return;if(null===Cn||"string"!=typeof Cn)return;var e=window.getComputedStyle(document.body).paddingTop;e!==qn&&(qn=e,Ln&&Ln.remove(),o("body .docapp-header-shipping-bar .docapp-shipping-bar.docapp-fixed {top: ".concat(e," !important;}")));var n=function(t){var e,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n}(Cn).toString(),r=!1;t.forEach((function(t){"string"==typeof t.innerHTML&&t.getAttribute("docapp-data-html-hash")===n||(g("Apply HTML on shipping bar"),t.closest(".docapp-header-shipping-bar")&&(Cn.includes("docapp-shipping-bar--invisible")?document.body.classList.remove("docapp-fsb"):(document.body.classList.add("docapp-fsb"),t.closest(".docapp-header-shipping-bar").querySelector(".docapp-fixed")?document.body.classList.add("docapp-fsb-fixed"):document.body.classList.remove("docapp-fsb-fixed"))),t.innerHTML=Cn,t.setAttribute("docapp-data-html-hash",n),r=!0)})),Cn&&r&&(St(),function(){g("Start emit shipping bar loaded event");var t=new Event("docapp-shipping-bar-loaded");t.cart=Oe(),document.body.dispatchEvent(t)}())}(),Xn(t.rate_overrides),Ye(!1),lr()&&je()&&(g("Re-populate rates after shipping bar loads."),yn())}),(function(){g("Error generating shipping bar HTML"),Ye(!1),lr()&&je()&&(g("Re-populate rates after shipping bar error in case they are not populated so far."),yn())}),"POST",JSON.stringify({cart:t,country:n?n.country:null,province:n?n.province:null,city:n?n.city:null,zip:n?n.zip:null,address1:n?n.address1:null,discounts:i.discounts,freeShippingDiscount:i.freeShippingDiscount,shippingRates:a,usingDiscountApp:On()}))}function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}var kn=[],jn=0,Tn=!1;function Nn(t,e){if(!window.cartShippingCalculatorProApp.cartChangeTrackingBlocked){var n=sr();if(t){Yt.setLoading(".docapp-shipping-calculator--loader"),(n={}).country=t.querySelector('[name="shipping_address[country]"]').value,n.province=t.querySelector('[name="shipping_address[province]"]').value;var r=t.querySelector('[name="shipping_address[city]"]');n.city=r?r.value:null;var i=t.querySelector('[name="shipping_address[address1]"]');n.address1=i?i.value:null,n.zip=t.querySelector('[name="shipping_address[zip]"]').value,pn(),ur({userLocation:n,shippingOptions:null})}if(!function(t){var e=window.docappAllowedLocations,n=window.docappDisabledRatesMessage;if(!e||!n||"object"!==xn(e))return!0;if(!e.hasOwnProperty(t.country))return!0;var r=e[t.country];return"boolean"==typeof r?r:!r.hasOwnProperty(t.province)||!!r[t.province]}(n))return vn(window.docappDisabledRatesMessage),ur({shippingOptions:[],cartHash:Qe(e)}),void Yt.setNotLoading();$n(),e?Dn(t,e):Le(t,(function(e){return Dn(t,e)}))}}function Dn(t,e,n){if(null==e||!e.item_count)return Yt.setNotLoading(),Xt(t,Ae().single_calculator_shopping_cart_empty,"neutral"),We(!0),void Ze(!1);Hn(),t&&Yt.setLoading(".docapp-shipping-calculator--loader");var r=0;n?r=n:ke()&&Pn()&&(r=500),We(!0),Ue(!0);var i=dr();setTimeout((function(){return y("/cart/prepare_shipping_rates.json",(function(){Tn=!1,jn=0,kn.push(setTimeout((function(){n&&Ze(!1),Ue(!0),In(t,e)}),300+Math.floor(100*Math.random())))}),(function(n,r){if(!Tn&&500===r)return Tn=!0,void setTimeout((function(){return Dn(t,e)}),2e3);if(Ue(!1),n&&"string"==typeof n){var i=JSON.parse(n);n=i||null}!function(t,e){if(!t)return void g("Shipping rates error encountered, but no cart summary to show the error in");ur({shippingOptions:[],cartHash:null}),Yt.setNotLoading();var n=!1,r=t.classList.contains("docapp-cart-with-shipping-summary");e&&e.country&&(Rn(t,"country",e.country),n=!0);e&&e.province&&(Rn(t,"province",e.province),n=!0);e&&e.zip&&(Rn(t,"zip",e.zip),n=!0);e&&e.city&&t.querySelector('[name="shipping_address[city]"]')&&(Rn(t,"city",e.city),n=!0);e&&e.address1&&t.querySelector('[name="shipping_address[address1]"]')&&(Rn(t,"address1",e.address1),n=!0);var i=t.querySelector(".docapp-shipping-show-trigger"),o=!r&&i.classList.contains("docapp-trigger-activated");r&&(i.innerHTML="");(r||o)&&t.querySelectorAll(".docapp-shipping-calculator, .docapp-shipping-calculator--body").forEach((function(t){return t.classList.remove("docapp-hide")}));n||(e&&e.error?Xt(t,e.error,"danger"):Xt(t,"Error, please refresh the page.","danger"));St()}(t,n)}),"POST",i.join("&"),null,!1,!0)}),r)}function In(t,e,n){if(!Fe()){Hn();var r=dr(),i=function(){return y("/cart/async_shipping_rates.json?"+r.join("&"),(function(n){if(jn+=1,!n&&jn<30)kn.push(setTimeout((function(){In(t,e,!0)}),900+Math.floor(100*Math.random())));else{Vt(),g("setWaitingForRates FALSE"),Ue(!1),Je(!0);var r=[],i=n?n.shipping_rates:[];"function"==typeof window.cartShippingCalculatorProApp.shippingRatesOverrideHandler&&(i=window.cartShippingCalculatorProApp.shippingRatesOverrideHandler(i)||i),i&&i.length?((i=function(t){var e=[],n=[];return t.forEach((function(t){if(t.code&&t.name){var r="".concat(t.code,"-").concat(t.name);e.includes(r)||(e.push(r),n.push(t))}else n.push(t)})),n}(i)).forEach((function(t){var e=function(t){var e,n=t.name,r=t.presentment_name||n,i=null,o=null,a="",c=t.description,p=t.source.replace(/_/g," ");(function(t){if(!t)return!1;var e=["advanced shipping rules","pi bespoke shipping","better shipping app","customship","intuitive shipping","parcelify","shipstation","ups shipping","custom zip code base shipping","standard-shipping","fulfillrite shipping rates","easyship","shipperhq","sunsky api","shipping rates logic","marketcube custom shipping rate provider","clickship rates","advantage rate provider","shipping rate provide by webbee","alpaca shipping service","ohi carrier service","printful shipping","canada post","starshipit","postcode shipping","eshipper","bigbuy carrier service","envia.com checkout service","tabela buda","dhl commerce","shipmondo","fedex","multi carrier shipping label","table rates shipping","sellerdash live shipping rates","multiparcels","calcurates","eiz carrier collection","machship live rates","stallion express","external shipping","sendle","starshipit","correios - sedex - pac & transportadoras","mandae production","australia post shipping","ignore","shipblink rates","cash on delivery app","frenet","enivix shipping rate provider","pdq shipping","shipping rates - shipeasy","envios - melhor envio","chronopost rate provider","store pickup + delivery","fedex rates service","schooloutlet freight system","easy rates japan post","xconnector","delivery rates by zip code","shopdoctors shipping rates","dr cart shipping rates & rules","shipmagic app","sfs freight system","shipping & delivery  shipzip"],n=t.toLowerCase();if(e.includes(n))return!1;var r=!1;return["shopify","boxify","logbase","merchant customized","splendense"].forEach((function(t){r||n.includes(t)&&(r=!0)})),!r})(p)&&(a=p.length>4?"".concat(p.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substring(1)}))," "):"".concat(p.toUpperCase()," "));if(t.delivery_days&&2===t.delivery_days.length){var l=t.delivery_days;o=l[1]>1,i=l[0]===l[1]?l[0]:"".concat(l[0]," - ").concat(l[1])}var u=j(t.price),s=null===(e=window.Shopify)||void 0===e?void 0:e.currency,d=null==s?void 0:s.active,f=null==s?void 0:s.rate;d&&f&&t.currency!==d&&(u=parseInt((u*f).toFixed(0)));return{prefix:a,name:n,presentmentName:r,days:i,plural:o,price:u,description:c,cleanedSource:p}}(t);r.push(e)})),g("Set received shipping rates in local storage"),ur({shippingOptions:r,cartHash:Qe(e)}),yn(r),rn()):(g("async_shipping_rates no rates returned! Show no rates message."),_n(),U()&&mn(0),ur({shippingOptions:r,cartHash:Qe(e)}));var o=C();(Te()||o.discounts&&o.discounts.length>0)&&An(e)}}),(function(e,n){Ue(!1),ur({shippingOptions:[],cartHash:null}),Yt.setNotLoading(),Xt(t,422===n?"Oops, your input was invalid or incomplete.":"Error, please refresh the page.","danger")}))};n&&!Pn()?y("/cart/prepare_shipping_rates.json",(function(){Fe()||setTimeout((function(){return i()}),100)}),(function(){}),"POST",r.join("&"),null,!1,!0):i()}}function Rn(t,e,n){t.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address['+e+']"]').forEach((function(t){var e=t.parentElement;e.querySelector(".docapp-error-label").innerHTML=n,e.classList.add("docapp-has-error")}))}function Hn(){kn.forEach((function(t){return clearTimeout(t)})),kn=[]}function Mn(t){return function(t){if(Array.isArray(t))return zn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return zn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bn=C(),Fn=Bn?Bn.discounts:[],Gn=Bn?Bn.freeShippingDiscount:null,Un=0,Wn=[],Jn=!1,Yn=function t(){document.body?($n(),document.body.addEventListener("docapp-discount-applied",(function(t){if(g("Discount change event processing start!"),!Fn.length&&!t.discounts.length)return!1;var e=Zn(Fn)!==Zn(t.discounts),n=function(t){if(!Gn&&!t)return!1;if(Gn&&t){if(Gn.maxShippingPrice!==t.maxShippingPrice)return!0;if(Gn.entitledRestOfWorld!==t.entitledRestOfWorld)return!0;if(!(Gn.entitledCountryIds&&Gn.entitledCountryIds.length||t.entitledCountryIds&&t.entitledCountryIds.length||Gn.entitledCountryCodes&&Gn.entitledCountryCodes.length||t.entitledCountryCodes&&t.entitledCountryCodes.length))return!1;if(Gn.entitledCountryIds&&Gn.entitledCountryIds.length&&t.entitledCountryIds&&t.entitledCountryIds.length)return Gn.entitledCountryIds.join(",")!==t.entitledCountryIds.join(",");if(Gn.entitledCountryCodes&&t.entitledCountryCodes)return Gn.entitledCountryCodes.join(",")!==t.entitledCountryCodes.join(",")}return!0}(t.freeShippingDiscount);e||n?(Gn=t.freeShippingDiscount||null,Fn=t.discounts,L(Fn,Gn),n&&$n(),e&&Qn()):g("NO Discount changes.")})),document.addEventListener("bundler:total_cart_values",(function(t){if(!On()){var e;if(g("BundlerProductBundles Discount change event processing start!"),e=t.detail&&t.detail.discount_amount?[{type:"manual",title:"BNDLR",amount:t.detail.discount_amount}]:[],!Fn.length&&!e.length)return!1;Zn(Fn)!==Zn(e)&&(L(Fn=e,null),Qn())}})),Se.onDiscountApplied("shipping_app",(function(){xe()&&(g("Detected discount applied by 3rd party app + will re-calculate"),Ze(!0),Dn(Be(),Oe(),1e3))})),document.body.addEventListener("docapp-discount-apply-to-checkout",(function(){xe()&&(g("Detected discount applied by our apps + will re-calculate"),Ze(!0),Dn(Be(),Oe(),1e3))}))):setTimeout(t,100)},$n=function t(e){if(Gn){e=e||1;var n=sr();n&&n.country||!(e<2)?Jn||(Jn=!0,y(r+"evaluate-shipping-discount",(function(t){Jn=!1,Un!==t.max_price_for_free_shipping&&(Un=t.max_price_for_free_shipping,Qn())}),(function(){Jn=!1,console.error("Dr Cart Shipping Rates & Rules: Failed to validate free shipping discount!")}),"POST",JSON.stringify({freeShippingDiscount:Gn,country:n?n.country:null}))):setTimeout((function(){t(e+1)}),500)}else Un>0&&(Un=0,Qn())},Xn=function(t){Wn=t||[];var e=lr(),n=e?e.shippingOptions:null;n&&n.length&&(e.shippingOptions=Vn(n.filter((function(t){return!t.fromOverride}))))},Vn=function(t){var e=!1,n=!1,r=t.map((function(t){var r=Kn(t);return null===r&&(e=!0),t.fromOverride&&(Wn.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))?n=!0:r=null),t.finalPrice=r,t}));if(!e||n)return r;var i=Wn.filter((function(e){return!t.some((function(t){return e.name.toLowerCase()===t.name.toLowerCase()}))}));return 0===i.length?r:(i.sort((function(t,e){return t.price>e.price?1:-1})),[{price:i[0].price,finalPrice:i[0].price,name:i[0].name,presentmentName:i[0].presentmentName||i[0].name,cleanedSource:"shopify",fromOverride:!0}].concat(Mn(r)))},Kn=function(t){var e=t.price;if(Un>0&&Un>=e)return g("Free shipping discount active, rate 0. "+Un),0;var n=Wn.some((function(n){return n.name.toLowerCase()===t.name.toLowerCase()&&(g("Rate override active! Rate ".concat(t.name,", Old price ").concat(t.price,", New price ").concat(n.price,". Taking max.")),e=Math.max(n.price,t.price),!0)}));if("Local Delivery"===t.name)return e;var r=Fn.length>0&&Fn.some((function(t){return"manual"===t.type}));return 0===parseInt(e)&&"shopify"===t.cleanedSource&&!n&&r?(g("Free shipping rate discarded due to shipping bad calculation! Name: "+t.name),null):e};function Zn(t){return t?t.reduce((function(t,e){return t+parseInt(e.amount)}),0):0}function Qn(){window.cartShippingCalculatorProApp&&"function"==typeof window.cartShippingCalculatorProApp.updateWidgets&&window.cartShippingCalculatorProApp.updateWidgets(Oe())}function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t,e,n){var r;return r=function(t,e){if("object"!=tr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==tr(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rr,ir="docapp-shipping",or=null,ar=w(ir);if(ar){var cr=JSON.parse(ar);if(cr){var pr=new Date;cr&&cr.timestamp&&(pr-new Date(cr.timestamp))/1e3/60/60>=24?(or=null,rr=ir,b(),!0===v?window.localStorage.removeItem(rr):delete _[rr]):(or=cr).shippingOptions&&or.shippingOptions.length&&(or.shippingOptions=Vn(or.shippingOptions))}}var lr=function(){return or},ur=function(t){var e=or?or.timestamp:new Date;t.shippingOptions&&(e=new Date),or=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(Object(n),!0).forEach((function(e){nr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({userLocation:or?or.userLocation:null,userIp:or?or.userIp:null,shippingOptions:or?or.shippingOptions:null,cartHash:or?or.cartHash:null,selectedShippingRateName:or?or.selectedShippingRateName:null,timestamp:e},t),function(t,e){b(),!0===v?window.localStorage.setItem(t,e):_[t]=e}(ir,JSON.stringify(or)),or.shippingOptions&&or.shippingOptions.length&&(or.shippingOptions=Vn(or.shippingOptions))},sr=function(){var t=lr();return t&&t.userLocation?t.userLocation:null},dr=function(){var t=sr(),e=["shipping_address[country]="+t.country];if(t.province?e.push("shipping_address[province]="+t.province):"BR"===t.country?e.push("shipping_address[province]=AC"):"CL"===t.country&&e.push("shipping_address[province]=RM"),t.zip){var n=t.zip;"BR"===t.country&&n.length<6&&(n+="-010"),e.push("shipping_address[zip]="+n)}return t.city&&e.push("shipping_address[city]="+t.city),t.address1&&e.push("shipping_address[address1]="+t.address1),e};function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function hr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gr(t,e,n){var r;return r=function(t,e){if("object"!=fr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==fr(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yr="docapp-shipping-auto-install",mr=null,_r=null,vr=new URLSearchParams(window.location.search);if(vr.get(yr))_r={integrationId:vr.get("docapp-integration-id"),divClass:vr.get("docapp-install-class"),check:vr.get("docapp-check")},p(yr,JSON.stringify(_r));else{var wr=l(yr);wr&&(_r=JSON.parse(wr),g("Continuing integration found in session"))}var br=function(t){if(!t.asset_base_url)return null;if(!_r)return g("Self-install not active"),null;if(_r.integrationId&&_r.integrationId.trim().length>0){if(_r.integrationId=_r.integrationId.trim(),t.integrations&&t.integrations.length){var e=t.integrations.filter((function(t){return t.id.toString()===_r.integrationId}));1===e.length&&(mr=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hr(Object(n),!0).forEach((function(e){gr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e[0]),g("Edit integration ID: "+mr.id))}}else _r.integrationId&&(_r.integrationId=null);mr||(mr={id:_r.integrationId||null,name:"",action:null,div_class:_r.divClass,inject_selector_1:null,inject_selector_2:null,replace_selector:null,is_active:!0},g("Starting new integration")),window.docappWidgetInstallation=mr;var n=document.createElement("script");return n.src=t.asset_base_url+"/shop/js/docapp-installer.min.js",document.head.append(n),i(t.asset_base_url+"/shop/css/docapp-installer.min.css"),mr},Sr=function(){return mr},Pr="docapp-shipping-test",Or=l(Pr);Or||l(yr)&&(Or=JSON.stringify({active:!0,installationId:null}));var Er=new URLSearchParams(window.location.search),Cr=Er.get(Pr),Lr=Er.get("docapp-shipping-inst-test"),qr={active:!1,installationId:null};"1"===Cr?(qr.active=!0,qr.installationId=Lr||null,p(Pr,JSON.stringify(qr))):"0"===Cr?(qr.active=!1,qr.installationId=null,p(Pr,JSON.stringify(qr))):window.Shopify&&window.Shopify.designMode?(qr.active=!0,p(Pr,JSON.stringify(qr))):Or&&(qr=JSON.parse(Or));var Ar=function(){return qr.active},xr=function(){return Ar()?qr.installationId:null},kr=['[name="checkout"]','[href="/checkout"]','[href*="/checkout?"]','[href*="/checkout/"]','[href*=".myshopify.com/checkout"]',"#dropdown-cart button.btn-checkout",'form[action*="/checkout"] [type="submit"]',"[onclick*=window\\.location\\=\\'\\/checkout]",".docapp-checkout-button",'[name="checkout-default"]',".dynamic-checkout-cart","#dynamic-checkout-cart",".cart__dynamic-checkout-buttons",'[data-shopify="dynamic-checkout-cart"]',"button.rebuy-cart__checkout-button",".rebuy-cart__flyout-footer .rebuy-cart__flyout-actions:last-child > button.rebuy-button:first-child","button#checkout",'button[onclick*="onCheckoutClick"]',"button.buy_now_btn","#slidecarthq footer.footer button.button.full","button#cart-checkout",'[data-ocu-checkout="true"], [data-ocu-checkout="true"] + .submit-overlay','.quick-cart__buy-now[href*="/cart/"][href*=":"]',"#corner-cowi-cart-summary-card-cta-button",".shiprocket-headless button.sr-headless-checkout",'#checkout[type="submit"]','[name="checkout-route-3"]',"#qikify-stickycart-v2-app button.qsc2-checkout-button","#button-checkout-shopify",'#shopify-section-cart-drawer .checkout-buttons form button[type="submit"]'],jr=!0,Tr=!1,Nr=!1,Dr=[];function Ir(t,e){var n=Sr();if(!(n&&n.id===t.id||!t.is_active&&!xr()||xr()&&xr()!==t.id.toString()))if(document.querySelector(".docapp-int-"+t.id))Rr(t)&&(Nr=!0);else{var r=function(t){var e=null,n=document.querySelectorAll(t.inject_selector_1);0===n.length&&t.inject_selector_2&&(n=document.querySelectorAll(t.inject_selector_2));var r=t.inject_selector_1.includes("giraffly_Off-Canvas");n.length>1&&r&&(n=[n.pop()]);return n.forEach((function(n){e||n.classList.toString().includes(t.div_class)||n.parentNode.querySelector("."+t.div_class)||n.closest("."+t.div_class)||(e=n)})),e}(t);if(r)Rr(t)&&(Nr=!0),function(t,e){var n,r=e.getAttribute("docapp-has-injected");(r=r||"").includes(t.div_class)||(r+="|"+t.div_class,e.setAttribute("docapp-has-injected",r));if(g("Injected ".concat(t.div_class,", method: ").concat(t.action)),"li"===e.tagName.toLowerCase()){n=document.createElement("li");var i=document.createElement("div");i.classList.add(t.div_class),n.append(i)}else(n=document.createElement("div")).classList.add(t.div_class);switch(n.classList.add("docapp-widget"),n.classList.add("docapp-int-"+t.id),n.id="docapp-int-"+t.id,t.action){case"replace":e.parentNode.insertBefore(n,e),Hr(t,e)&&(Nr=!0);break;case"above":e.parentNode.insertBefore(n,e);break;case"below":e.parentNode.insertBefore(n,e.nextSibling)}}(t,r),Tr=!0;else{if(e)return;Dr.push(t)}}}function Rr(t){var e=!1;return t.replace_selector&&t.replace_selector.length>0&&t.replace_selector.split(",").forEach((function(n){n&&0!==n.trim().length&&document.querySelectorAll(n).forEach((function(n){Hr(t,n)&&(e=!0)}))})),e}function Hr(t,e){if(1===e["docapp-data-not-replaced"])return!1;if(e.classList.contains("docapp-replaces"))return!1;if(e.closest("."+t.div_class))return e["docapp-data-not-replaced"]=1,!1;var n=e.querySelector(kr.join(","));return n&&!n.classList.contains("gt_button_apply_discount")||e.closest('#sticky-app-client [data-cl="mini-cart"]')&&e.querySelector("button")||e.querySelector('[type="checkbox"]')?(e["docapp-data-not-replaced"]=1,!1):(e.classList.add("docapp-replaces"),e.style.setProperty("display","none","important"),g("Replacing "+e.className),!0)}var Mr=!1,zr=!0,Br=function t(){if(!Mr){var e=document.querySelector(kr.join(","));if(!e)return g("Could not detect button for styles"),void(zr&&(setTimeout((function(){t()}),500),zr=!1));var n=window.getComputedStyle(e),r=n.fontFamily,i=n.fontWeight,a=n.textTransform,c=n.letterSpacing;o(".docapp-shipping-calculator .docapp-shipping-calculator--button, .docapp-shipping-calculator .docapp-shipping--button-text {\n        font-family: ".concat(r,";\n        font-weight: ").concat(i,";\n        text-transform: ").concat(a,";\n        letter-spacing: ").concat(c,";\n    }")),Mr=!0}},Fr=function(){return window.cartShippingCalculatorProAppCountriesAllowed&&!!window.cartShippingCalculatorProAppCountriesAllowed.length},Gr=[],Ur=[],Wr=[],Jr=function(){document.querySelectorAll("[data-shipping-cart-summary-theme-app-extension-override]").forEach((function(t){var e=t.closest("div.shopify-app-block.shopify-block");if(!Gr.includes(e.id)){Gr.push(e.id);var n=t.getAttribute("data-alignment"),r=t.getAttribute("data-button-color"),i=t.getAttribute("data-button-text-color"),a=t.getAttribute("data-text-color"),c=t.getAttribute("data-font-size"),p=t.getAttribute("data-max-width"),l={left:"margin-left: unset !important; margin-right: auto !important;",right:"margin-left: auto !important; margin-right: unset !important;",center:"margin-right: auto !important; margin-left: auto !important;"},u="".concat(c,"px"),s="".concat(parseInt(c)-2,"px"),d="".concat(parseInt(c)+1,"px"),f=[h([".docapp-cart-with-shipping-summary",".docapp-coupon-input"],"".concat(l[n],";")),h([".docapp-shipping-calculator--button",".docapp-coupon-input--button"],"background: ".concat(r," !important; border-color: ").concat(r," !important;")),h([".docapp-shipping-calculator--button:hover",".docapp-coupon-input--button:hover"],"filter: brightness(85%);"),h([".docapp-shipping-calculator--button",".docapp-coupon-input--button",".docapp-coupon-input--button .docapp-coupon-input--button-text"],"color: ".concat(i," !important;")),h([".docapp-shipping-calculator--button .docapp-loader",".docapp-coupon-input--button .docapp-loader"],"border-left-color: ".concat(i," !important;\n            border-top-color: ").concat(i," !important;\n            border-right-color: ").concat(i," !important;\n            border-bottom-color: ").concat(r," !important;")),h([".docapp-shipping-calculator--button",".docapp-cart-shipping",".docapp-shipping-calculator--input",'.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-city','.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-address','.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-zip',".docapp-shipping-calculator--input select.docapp-shipping-calculator--select",".docapp-shipping-calculator--button .docapp-shipping--button-text",".docapp-shipping-calculator--button .docapp-loader",".docapp-shipping-calculator--button.docapp-active .docapp-loader",".docapp-est-total",".docapp-cart-subtotal",".docapp-shipping--message-container",".docapp-cart-discount",".docapp-coupon-input--input",".docapp-coupon-input--button",".docapp-coupon-input--button .docapp-coupon-input--button-text",".docapp-coupon-input--button .docapp-loader",".docapp-coupon-input--button.docapp-active .docapp-loader",".docapp-coupon-input--message-container",".docapp-coupon-input--bean-container--bean",".docapp-coupon-input--bean-container--bean-remove"],"font-size: ".concat(u," !important;")),h([".docapp-cart-discount svg",".docapp-coupon-input--bean-container--bean svg"],"height: ".concat(u," !important;")),h([".docapp-cart-subtotal",".docapp-cart-shipping",".docapp-est-total",".docapp-summary-note",".docapp-cart-discount",".docapp-shipping-calculator--rates-title",".docapp-shipping-rate",".docapp-shipping-rate div",".docapp-shipping-rate label"],"color: ".concat(a," !important;")),h([".docapp-cart-discount svg"],"fill: ".concat(a," !important;")),h([".docapp-shipping-calculator--loader .docapp-loader"],"border-left-color: ".concat(a," !important;\n                border-top-color: ").concat(a," !important;\n                border-right-color: ").concat(a," !important;")),h([".docapp-shipping-rate div",".docapp-shipping-rate label"],"font-size: ".concat(s," !important;")),h([".docapp-shipping-calculator--rates-title"],"font-size: ".concat(d," !important;")),h([".docapp-coupon-input"],"max-width: ".concat(p,"px !important;"))].join("\n");o(f)}function h(t,n){return"#".concat(e.id," ").concat(t.join(", #".concat(e.id," "))," {").concat(n,"}")}})),document.querySelectorAll("[data-shipping-calculator-theme-app-extension-override]").forEach((function(t){var e=t.closest("div.shopify-app-block.shopify-block");if(!Ur.includes(e.id)){Ur.push(e.id);var n=t.getAttribute("data-alignment"),r=t.getAttribute("data-cta-alignment"),i=t.getAttribute("data-cta-font-size"),a=t.getAttribute("data-cta-color"),c=t.getAttribute("data-fields-and-button-font-size"),p=t.getAttribute("data-button-color"),l=t.getAttribute("data-button-text-color"),u=t.getAttribute("data-shipping-rates-background-color"),s=t.getAttribute("data-shipping-rates-title-font-size"),d=t.getAttribute("data-shipping-rates-title-text-color"),f=t.getAttribute("data-shipping-rates-font-size"),h=t.getAttribute("data-shipping-rates-text-color"),g=[y([".docapp-single-shipping-calculator"],"".concat({left:"margin-left: unset !important; margin-right: auto !important;",right:"margin-left: auto !important; margin-right: unset !important;",center:"margin-right: auto !important; margin-left: auto !important;"}[n],";")),y([".docapp-shipping-show-trigger"],"text-align: ".concat(r," !important;")),y([".docapp-shipping-show-trigger"],"font-size: ".concat(i,"px !important; color: ").concat(a," !important;")),y([".docapp-shipping-show-trigger:hover"],"filter: brightness(85%);"),y([".docapp-shipping-calculator--input",'.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-city','.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-address','.docapp-shipping-calculator--input input[type="text"].docapp-shipping-calculator--input-zip',".docapp-shipping-calculator--input select.docapp-shipping-calculator--select",".docapp-shipping-calculator--button",".docapp-shipping-calculator--button .docapp-shipping--button-text",".docapp-shipping-calculator--button .docapp-loader"],"font-size: ".concat(c,"px !important;")),y([".docapp-shipping-calculator--button"],"background: ".concat(p," !important; border-color: ").concat(p," !important;")),y([".docapp-shipping-calculator--button:hover"],"filter: brightness(85%);"),y([".docapp-shipping-calculator--button"],"color: ".concat(l," !important;")),y([".docapp-shipping-calculator--button.docapp-active .docapp-loader"],"\n                        border-left-color: ".concat(l," !important;\n                        border-top-color: ").concat(l," !important;\n                        border-right-color: ").concat(l," !important;\n                        border-bottom-color: ").concat(p," !important;\n                    ")),y([".docapp-shipping-calculator--loader .docapp-loader"],"border-left-color: ".concat(p," !important;\n                    border-top-color: ").concat(p," !important;\n                    border-right-color: ").concat(p," !important;")),y([".docapp-shipping-calculator--rates"],"background: ".concat(u," !important;")),y([".docapp-shipping-calculator--rates-title"],"font-size: ".concat(s,"px !important;")),y([".docapp-shipping-calculator--rates-title"],"color: ".concat(d," !important;")),y([".docapp-shipping-rate div",".docapp-shipping-rate label",".docapp-shipping--message-container"],"font-size: ".concat(f,"px !important;")),y([".docapp-shipping-rate",".docapp-shipping-rate div",".docapp-shipping-rate label"],"color: ".concat(h," !important;"))].join("\n");o(g)}function y(t,n){return"#".concat(e.id," ").concat(t.join(", #".concat(e.id," "))," {").concat(n,"}")}})),document.querySelectorAll("[data-top-bar-theme-app-extension-override]").forEach((function(t){var e=t.closest("div.shopify-app-block.shopify-block");if(!Wr.includes(e.id)){Wr.push(e.id);var n=t.getAttribute("data-font-size"),r=t.getAttribute("data-background-color"),i=t.getAttribute("data-text-color"),a=t.getAttribute("data-text-alignment"),c=t.getAttribute("data-text-style"),p="font-weight: unset !important; font-style: unset !important; text-decoration: unset !important;",l={bold:"".concat(p," font-weight: 700 !important;"),italic:"".concat(p," font-style: italic !important;"),underlined:"".concat(p," text-decoration: underline !important;"),none:p},u="\n                    #".concat(e.id," .docapp-shipping-bar {\n                        font-size: ").concat(n,"px !important;\n                        background: ").concat(r," !important;\n                        color: ").concat(i," !important;\n                        text-align: ").concat(a," !important;\n                        ").concat(l[c],";\n                    }\n                ");o(u)}}))};function Yr(t){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(t)}function $r(){$r=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),c=new x(r||[]);return i(a,"_invoke",{value:C(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",g="completed",y={};function m(){}function _(){}function v(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&r.call(S,a)&&(w=S);var P=v.prototype=m.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,c){var p=s(t[i],t,o);if("throw"!==p.type){var l=p.arg,u=l.value;return u&&"object"==Yr(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(p.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var p=L(c,r);if(p){if(p===y)continue;return p}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var l=s(e,n,r);if("normal"===l.type){if(i=r.done?g:f,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=s(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Yr(e)+" is not iterable")}return _.prototype=v,i(P,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:_,configurable:!0}),_.displayName=l(v,p,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,p,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},O(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(P),l(P,p,"Generator"),l(P,a,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var p=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(p&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(p){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Xr(t,e,n,r,i,o,a){try{var c=t[o](a),p=c.value}catch(t){return void n(t)}c.done?e(p):Promise.resolve(p).then(r,i)}var Vr=function(){var t,e=(t=$r().mark((function t(e){var n,r,i,o;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e,"POST",null,[],!0,!1);case 3:return n=t.sent,r=n.response,t.abrupt("return",Number(r));case 8:return t.prev=8,t.t0=t.catch(0),i=t.t0.error,o=t.t0.status,console.error("Error:",i,"Status:",o),t.abrupt("return",0);case 14:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xr(o,r,i,a,c,"next",t)}function c(t){Xr(o,r,i,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),Kr=function(){var t,e=document.querySelector(".Cart__Checkout .Button__SeparatorDot");e&&((t=Qr(e.nextElementSibling))&&e.nextElementSibling.classList.add("docapp-sync-subtotal"));var n=document.querySelector('[name="checkout"] [data-cart-final],[name="checkout"] [data-cart-total],.checkout-button[type="submit"] .money');n&&(t=Qr(n))&&n.classList.add("docapp-sync-subtotal");var r=document.querySelector("#satcb_checkout_bar .satcb_checkout_price");if(r&&(t=Qr(r))&&r.classList.add("docapp-sync-subtotal"),document.querySelectorAll(".card-footer .btn .cart-cost, .drawer__footer .btn .cart-cost").forEach((function(t){return t.classList.add("docapp-sync-subtotal")})),t)return t;var i=Zr([".docapp-sync-subtotal"]);if(i)return i;var o=Zr(["#bk-cart-subtotal-price","#cart-final-price","#cart-total-final-price","#grandtotal .money","#revy-cart-subtotal-price",".ajaxsubtotal",".ajax-cart__subtotal .money",".ajaxcart__subtotal div:last-child div:last-child",".ajaxcart__footer-row .price",".bcpo-cart-original-total",".card-total-price",".cart-drawer__subtotal-number",".cart-drawer__subtotal-price",".cart-drawer__subtotal-value",".Cart-footer-subtotal-price",".cart-item-total-price",".cart-mini-subtotal-value",".cart-original-total",".cart-price .price-total",".cart-recap__price-line-price",".cart-subtotal .money",".cart-subtotal--price .money",".cart-subtotal-row .money",".cart-subtotal__price",".cart-total .money",".cart-total .cart-price",".cart-total-value",".cart--total--price",".Cart__body__total__value",".cart__subtotal .money",".cart__subtotal-price",".Cart__Total span",".cart_subtotal .money",".cart_tot_price"]);if(o)return o;var a=Zr([".totals__subtotal-value",".gt_total .number_total",".cart_total_price .money",".cart__grandtotal .jsPrice",".mini-cart-total",".mini-cart-total-price .money",".minicart__total .jsPrice",".cartBoxSubtotal .cartSubtotal",".drawerSubtotal .cartSubtotal",".hulkapps-cart-original-total",".js-cart_subtotal .money",".mini-cart-subtotal-price",".psh-Footer_Subtotal",".revy-cart-subtotal-price",".saso-cart-original-total",".satcb-cs-total",".mm-counter.price",".subtotal_amount span",".savy-cart-total-price",".saw-cart-original-total",".shopify-Price-amount .money",".shopping-cart__total",".slidecart-subtotal",".subtotal .amount",".subtotal .money",".subtotal .theme-money",".total .price",".total-price .cart-total",".total-price .price",".total-price .money",".totals .price .money",".tt-cart-total-price",".ufe-cart-total-price",".upsell-system-subtotal-wrapper",".wh-original-cart-total",".zrx-cart-total",".cart-template__cart-total"]);if(a)return a;var c=Zr(["#grandtotal td",".auto-cart-original-total",".cart-drawer__money",".cart__footer__value",".popup-cart__subtotal .price",".price-total__container",".shopify-Price-amount",".cart__subtotalprice",".total__amount",".checkout-col .subtotal",".cart-totals .cart-price",".aod-total-amount",".subtotal.theme-money",".vnd-cart__total-origin",".summary-desktop__total-price",".cart__total__value",".ws-cs-total",".tdf-cart-total-parent",".sf-cart-subtotal__price","[data-cart-final]","[data-cart-price]","[data-cart-subtotal]","[data-cart-total]","[data-gpo-cart-line-item-subtotal-price]","[data-subtotal]","[data-cart-subtotal-price]"]);if(c)return c;var p=Zr(["#cartTotal",".ajaxcart__price",".ajaxcart__subtotal",".bold_cart_total",".cart-subtotal",".cart-subtotal--price",".cart__footer-total",".cart__subtotal",".sc-discount-total",".tdf-cart-total-flag",".total-price"]);return p||"-"};function Zr(t){var e=document.querySelectorAll(t.join(","));if(!e.length)return null;for(var n=1;n<=e.length;){var r=e[e.length-n];if(r.textContent.trim()){var i=Qr(r);if(i)return i}n++}return null}function Qr(t){var e=ti(t.querySelector("span"));if(e)return e;var n=ti(t.querySelector("small"));return n||ti(t)}function ti(t){if(!t)return null;if(t.querySelector(".visually-hidden"))return null;var e=q(t.textContent.trim());return e.length<20&&e.match(/\d+/)?e:null}function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(){ni=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),c=new x(r||[]);return i(a,"_invoke",{value:C(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",g="completed",y={};function m(){}function _(){}function v(){}var w={};l(w,a,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(k([])));S&&S!==n&&r.call(S,a)&&(w=S);var P=v.prototype=m.prototype=Object.create(w);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,c){var p=s(t[i],t,o);if("throw"!==p.type){var l=p.arg,u=l.value;return u&&"object"==ei(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(p.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var p=L(c,r);if(p){if(p===y)continue;return p}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var l=s(e,n,r);if("normal"===l.type){if(i=r.done?g:f,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=s(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ei(e)+" is not iterable")}return _.prototype=v,i(P,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:_,configurable:!0}),_.displayName=l(v,p,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,p,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},O(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(P),l(P,p,"Generator"),l(P,a,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var p=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(p&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(p){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function ri(t,e,n,r,i,o,a){try{var c=t[o](a),p=c.value}catch(t){return void n(t)}c.done?e(p):Promise.resolve(p).then(r,i)}var ii,oi=".docapp-cart-with-shipping-summary",ai=null,ci=null,pi=0;function li(){var t;return t=ni().mark((function t(e){var n,i,o;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=C(),di(),i={cart:e,discounts:n.discounts,freeShippingDiscount:n.freeShippingDiscount,usingDiscountApp:On()},!Ae().should_display_savings_on_cart_summary){t.next=10;break}return t.next=6,Vr(r+"cart-savings");case 6:(pi=i.cart_savings=t.sent)<0&&(pi=0),t.next=12;break;case 10:(o=document.getElementById("docapp-cart-savings"))?(pi=i.cart_savings=parseInt(o.getAttribute("data-savings")),i.cart_savings_title=o.getAttribute("data-savings-title"),i.cart_compare_title=o.getAttribute("data-compare-title")):pi=0;case 12:y(r+"cart-summary",(function(t){Vt(),ai=t.cart_summary_html,ui(e,!0),fi()}),(function(){Yt.setNotLoading(),Xt(ci,"Error, please refresh the page.","danger"),fi()}),"POST",JSON.stringify(i));case 13:case"end":return t.stop()}}),t)})),li=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ri(o,r,i,a,c,"next",t)}function c(t){ri(o,r,i,a,c,"throw",t)}a(void 0)}))},li.apply(this,arguments)}function ui(t,e){if(!(ai=ai||Ae().base_cart_summary_html)||0===ze().length)return!1;var n=!1;return document.querySelectorAll(oi).forEach((function(r){!e&&function(t){var e=t.querySelector(".docapp-cart-with-shipping-summary--summary");return!(!e||!e.docappIsOriginal)}(r)||(g("Load cart summary HTML"),r.innerHTML=ai.includes("[[amount]]")?ai.replace(/\[\[amount]]/g,Kr()):ai,r.querySelector(".docapp-cart-with-shipping-summary--summary").docappIsOriginal=!0,g("Set up cart summary handlers and rates"),nn(r),on(r),un(r),en(r,t),n=!0)})),n}function si(){return ci&&ci.parentElement&&(ci.parentElement.offsetWidth>0||ci.parentElement.offsetHeight>0)?ci:0===ze().length?ci=null:(ze().forEach((function(t){var e=t.parentElement;(e.offsetWidth>0||e.offsetHeight>0)&&(ci=ci||t)})),ci||(ci=ze()[0]),ci.setAttribute("docapp-data-active","true"),ci)}function di(){g("Start emit shipping cart summary start event");var t=new Event("docapp-shipping-start");document.body.dispatchEvent(t)}function fi(){g("Start emit shipping cart summary end event");var t=new Event("docapp-shipping-end");document.body.dispatchEvent(t)}function hi(){!function(t){if(!window.Shopify||!window.Shopify.locale)return;var e=window.Shopify.locale.split("-")[0].split("_")[0].toUpperCase();fetch("https://atlas.shopifycloud.com/graphql",{body:JSON.stringify({query:"\nquery countries($locale: SupportedLocale!) {\n  countries(locale: $locale) {\n    name\n    code\n    zones {\n      name\n      code\n    }\n  }\n}\n\nquery country($countryCode: SupportedCountry!, $locale: SupportedLocale!) {\n  country(countryCode: $countryCode, locale: $locale) {\n    name\n    code\n    zones {\n      name\n      code\n    }\n  }\n}\n",operationName:"countries",variables:{locale:"".concat(e)}}),headers:{"Content-Type":"application/json"},method:"POST"}).then((function(t){return t.json()})).then((function(e){var n=e.data.countries,r=!1;De().forEach((function(t){var e=n.find((function(e){return e.code===t.code}));e&&(t.name=e.name,r=!0,Ie()[t.code]&&e.zones.length&&Ie()[t.code].forEach((function(t){var n=e.zones.find((function(e){return e.code===t.code}));n&&("Washington"===n.name&&"DC"===n.code?n.name="Washington DC":"Washington"===n.name&&"WA"===n.code&&(n.name="Washington"),t.name=n.name)})))})),r&&t()})).catch((function(t){console.error("Error while trying to translate country options:",t)}))}((function(){ze().forEach((function(t){on(t),en(t,Oe())})),Me().forEach((function(t){on(t),en(t,Oe())}))}))}function gi(t){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(t)}function yi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mi(t,e,n){var r;return r=function(t,e){if("object"!=gi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==gi(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}f="CSCP: ",g("Start"),ii=function(t){t.target&&t.target.classList&&t.target.classList.contains&&t.target.classList.contains("docapp-real-select")&&(g("focus captured on our select!"),t.stopImmediatePropagation())},document.addEventListener("focus",ii,{capture:!0}),document.addEventListener("focusin",ii,{capture:!0}),function(){if(window.cartShippingCalculatorProAppLoaded)g("App already initialized. END");else{if(window.cartShippingCalculatorProAppLoaded=!0,!(window.cartShippingCalculatorProAppBlock||document.documentElement.innerHTML.includes("t\\/shop\\/js\\/cart-shipping-calculator-pro.min.js")||document.documentElement.innerHTML.includes("o\\/shop\\/js\\/cart-shipping-calculator-pro.min.js")||document.documentElement.innerHTML.includes("m\\/shop\\/js\\/cart-shipping-calculator-pro.min.js")||document.documentElement.innerHTML.includes(',"https://d1an1e2qw504lz.cloudfront.net/shop/js/cart-shipping-calculator-pro.min.js')||document.documentElement.innerHTML.includes('<noscript type="text/javascript/defer" src="https://d1an1e2qw504lz.cloudfront.net/shop/js/cart-shipping-calculator-pro.min.js')))return console.info("Dr Cart Shipping Rates & Rules:"),console.info("We've detected that our app is no longer installed. Please contact us at support@cartshippingcalculator.com so we can help you clean up this message, or if the app is still installed but not activating."),void g("App not installed. END");if(window.cartShippingCalculatorProApp=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yi(Object(n),!0).forEach((function(e){mi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({customizeRateNameHandler:null,customizeRatePriceHandler:null,shippingRatesOverrideHandler:null,cartChangeTrackingBlocked:!1},window.cartShippingCalculatorProApp),"/password"!==window.location.pathname){var t=new URLSearchParams(window.location.search);if("1"!==t.get("docapp-shipping-disable"))if(window.cartShippingCalculatorProApp&&window.cartShippingCalculatorProApp.disabled)g("App externally disabled. END");else{g("Initializing app"),Se.start();var e,n,a=!1,c=null,p=null,l=null;window.docappCountriesNoPostCode&&window.docappCountriesNoPostCode.forEach((function(t){return function(t){return qe.countriesWithNoPostal.push(t)}(t)})),Fr()||window.glopal?(e=function(t,e){g("IP from API detection: "+t),c=t||null,function(t){if(!Fr())return!0;var e=window.cartShippingCalculatorProAppCountriesAllowed.includes(t);return g('Country is allowed? "'.concat(t,'" ').concat(e?"Yes":"No")),e}(e)&&u()},(n=new XMLHttpRequest).open("GET","https://www.cloudflare.com/cdn-cgi/trace",!0),n.send(),n.onload=function(){var t=n.status,r=n.response;if(t>=400)e(null,null);else{var i=null,o=null,a=r.split("\n").filter((function(t){return t.includes("ip=")}));a.length&&(i=a[0].split("=")[1]);var c=r.split("\n").filter((function(t){return t.includes("loc=")}));c.length&&(o=c[0].split("=")[1]),e(i,o)}},n.onerror=function(){e(null,null)}):u(),Yn(),Jr()}else g("App disabled by URL param. END")}else g("App disabled on password page. END")}function u(){g("Getting options");var e=lr(),n=e?e.userLocation:null,a={"needs-location":!n||!n.country};Ar()&&(a["docapp-shipping-test"]=!0),t.has("docapp-test-ip")?(a["ip-override"]=t.get("docapp-test-ip"),a["needs-location"]=!0):!c||n&&e.userIp===c||(a["ip-override"]=c,a["needs-location"]=!0),y(r+"storefront-options",(function(t){if(br(t),!t.is_active||!t.asset_base_url)return g("App is not active! END"),document.querySelectorAll(".docapp-replaces").forEach((function(t){t.style.setProperty("display","")})),void document.querySelectorAll(".docapp-cart-with-shipping-summary,.docapp-single-shipping-calculator,.docapp-shipping-bar").forEach((function(t){t.style.setProperty("display","none","important")}));Se.check(),t.use_cart_update_for_cart_data&&(Ce=!0),window.cartShippingCalculatorProApp=window.cartShippingCalculatorProApp||{},window.cartShippingCalculatorProApp.updateWidgets=function(t){"function"==typeof p&&(t?p(t,!0):Le(Be(),(function(t){return p(t,!0)})))},window.cartShippingCalculatorProApp.calculateShippingForLocation=function(t,e,n,r,i){document.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address[country]"]').forEach((function(e){return e.value=t})),document.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address[province]"]').forEach((function(t){return t.value=e||""})),document.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address[city]"]').forEach((function(t){return t.value=n||""})),document.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address[address1]"]').forEach((function(t){return t.value=i||""})),document.querySelectorAll('.docapp-shipping-calculator--input [name="shipping_address[zip]"]').forEach((function(t){return t.value=r||""})),rn({country:t,province:e,city:n,zip:r}),Nn(document.querySelector(".docapp-shipping-calculator"),Oe())},Ge(t),function(t){I=t,H=t}(t.money_format),function(t){D=t,R=t}(t.currency_name),function(t){if(window.docappShippingAllowedCountryCodes&&window.docappShippingAllowedCountryCodes.length?$e(t.country_options.filter((function(t){return window.docappShippingAllowedCountryCodes.includes(t.code)}))):$e(t.country_options),window.docappShippingAllowedProvinceCodes&&Object.keys(window.docappShippingAllowedProvinceCodes).length&&Object.keys(t.province_options).length){var e={};Object.keys(t.province_options).forEach((function(n){window.docappShippingAllowedProvinceCodes.hasOwnProperty(n)?e[n]=t.province_options[n].filter((function(t){return window.docappShippingAllowedProvinceCodes[n].includes(t.code)})):e[n]=t.province_options[n]})),Xe(e)}else Xe(t.province_options)}(t),t.user_location&&(g("Load user location from options response"),ur({userLocation:t.user_location,userIp:t.user_ip,shippingOptions:null})),i(t.asset_base_url+"/shop/css/cart-shipping-calculator-pro.min.css"),t.styles&&o(t.styles),t.shipping_bar_header_enabled&&function(){if(!document.querySelector("body > .docapp-header-shipping-bar .docapp-shipping-bar")){var t=document.createElement("div");t.setAttribute("class","docapp-header-shipping-bar docapp-widget"),Ae().shipping_bar_header_floating?t.innerHTML='\n                <div class="docapp-shipping-bar docapp-shipping-bar-invisible"></div>\n                <div class="docapp-shipping-bar docapp-fixed"></div>':t.innerHTML='<div class="docapp-shipping-bar"></div>',document.body.prepend(t)}}(),s(t),(ze().length>0||He().length>0||Me().length>0)&&o(".docapp-replaces{display:none !important;}"),setTimeout((function(){setInterval((function(){s(t)}),500)}),500),window.Shopify&&window.Shopify.locale&&"en"!==window.Shopify.locale&&hi()}),(function(t,e){console.info("CartShippingCalculator options failed to load. Status: "+e)}),"POST",JSON.stringify(a))}function s(t){t.sync_subtotal_selector&&document.querySelectorAll(t.sync_subtotal_selector).forEach((function(t){return t.classList.add("docapp-sync-subtotal")})),function(t){if(jr){if(!t.integrations||0===t.integrations.length)return jr=!1,void g("Nothing to inject. Skip injections.");Tr=!1,Nr=!1,Dr=[],t.integrations.forEach((function(t){Ir(t)})),Dr.forEach((function(t){Ir(t,!0)})),Tr&&g("Elements found to inject!"),Nr&&g("Elements found to replace!")}}(t),d(),Ke(si()),Jr();var e,n,r,i=ui(Oe()),o=(e=!1,document.querySelectorAll(En).forEach((function(t){if(!(t.getAttribute("docapp-data-handled")||t.innerHTML&&t.innerHTML.trim().length>0)){if(Cn&&t.closest(".docapp-addition, .docapp-widget"))return t.innerHTML=Cn,void setTimeout((function(){return St()}),1);e=!0,t.setAttribute("docapp-data-handled","1"),g("Detected new shipping bar")}})),e),c=(n=Oe(),r=!1,Me().forEach((function(t){var e=t.querySelector(".docapp-shipping-show-trigger");e&&e.docappIsOriginal||(g("Load single shipping calc HTML"),t.innerHTML=Ae().single_calculator_html,t.querySelector(".docapp-shipping-show-trigger").docappIsOriginal=!0,nn(t),on(t),un(t),g("Begin initialize single calculator rates"),en(t,n),r=!0)})),r);if("function"==typeof p&&function(){var t,e=parseInt((new Date).getTime()/1e3);if(mt===e)return!1;if(mt=e,!Oe())return g("No cart response, skip pricing app check"),!1;var n=!1;if(window.is_hulkpo_installed&&window.hulkapps&&window.hulkapps.discounts&&window.hulkapps.discounts.cart&&window.hulkapps.discounts.cart.items&&window.hulkapps.discounts.cart.items.length&&(n=!0),window.bcpo&&window.bcpo.price_addons&&window.bcpo.price_addons.length&&(n=!0),window.pplr_draft_order&&(n=!0),window.BSS_PO&&window.BSS_PO.enable&&(n=!0),window.dpoObserver&&window.dpoObserver.cartItems&&(n=!0),(window.bbCheckCart||window.bbProcessCart)&&(n=!0),window.Cloudlift&&window.Cloudlift.options&&window.Cloudlift.options.config&&"options"===window.Cloudlift.options.config.app&&(n=!0),window.BOLD&&window.BOLD.common&&window.BOLD.common.cartDoctor&&window.BOLD.common.cartDoctor.cart&&window.BOLD.common.cartDoctor.cart.items.length&&(n=!0),window.booster&&"code"===window.booster.discount_method&&window.booster.discounts&&(n=!0),window.un&&window.un.cart&&window.un.running&&(n=!0),(window.zakekeProductAdvancedProcessingDraftOrder||window.zakekeProductAdvancedProcessing)&&(n=!0),"object"===V(window.ymq)&&"function"==typeof window.ymq_ready&&(n=!0),"object"===("undefined"==typeof GIST?"undefined":V(GIST))&&null!==(t=GIST)&&void 0!==t&&t.bundles&&(n=!0),!n)return!1;var r=et,i=nt,o=rt,a=it,c=ot,p=at,l=ct,u=pt,s=lt,d=ut,f=st,h=dt,y=yt,m=ft,_=wt();return!(!_||(_.external_integration&&y!==_.external_integration?(g("Applying price change app update by "+_.external_integration),Ee(_),0):(r||et)&&r!==et?(g("Applying hulk price update - late. lastTotalHulkPrice: "+r+" totalHulkPrice "+et),Ee(_),0):(i||nt)&&i!==nt?(g("Applying bcpo price update - late. lastTotalBcpoPrice: "+i+" totalBcpoPrice "+nt),Ee(_),0):(o||rt)&&o!==rt?(g("Applying pplr price update - late. lastTotalPplrPrice: "+o+" totalPplrPrice "+rt),Ee(_),0):(a||it)&&a!==it?(g("Applying BSS price update - late. lastTotalBssPrice: "+a+" totalBssPrice "+it),Ee(_),0):(c||ot)&&c!==ot?(g("Applying dpo price update - late. lastTotalDpoPrice: "+c+" totalDpoPrice "+ot),Ee(_),0):(p||at)&&p!==at?(g("Applying bb price update - late. lastTotalBbPrice: "+p+" totalBbPrice "+at),Ee(_),0):(l||ct)&&l!==ct?(g("Applying lpo price update - late. lastTotalLpoPrice: "+l+" totalLpoPrice "+ct),Ee(_),0):(u||pt)&&u!==pt?(g("Applying bold price update - late. lastTotalBoldPrice: "+u+" totalBoldPrice "+pt),Ee(_),0):(s||lt)&&s!==lt?(g("Applying booster price update - late. lastTotalBoosterPrice: "+s+" totalBoosterPrice "+lt),Ee(_),0):(d||ut)&&d!==ut?(g("Applying UN price update - late. lastTotalUnPrice: "+d+" totalUnPrice "+ut),Ee(_),0):(f||st)&&f!==st?(g("Applying ZAKEKE price update - late. lastTotalZakekePrice: "+f+" totalZakekePrice "+st),Ee(_),0):(h||dt)&&h!==dt?(g("Applying YMQ price update - late. lastTotalYMQPrice: "+h+" totalYMQPrice "+dt),Ee(_),0):!m&&!ft||m===ft||(g("Applying Giftship price update - late. lastTotalGiftshipPrice: "+m+" totalGiftshipPrice "+ft),Ee(_),0)))}())Le(Be(),(function(t){return p(t)}));else{var u,s=Oe();if(s&&"function"==typeof p&&function(){if(Ae().should_display_savings_on_cart_summary)return!1;var t=document.getElementById("docapp-cart-savings");return!t&&pi>0||!(!t&&!pi)&&parseInt(t.getAttribute("data-savings"))!==pi}())p(s,!0);else if(i||o||c)u=0,document.querySelectorAll(".docapp-replaces").forEach((function(t){"none"!==window.getComputedStyle(t).display&&(t.style.setProperty("display","none","important"),u++)})),u&&g("Hid replaced elements: "+u),setTimeout((function(){return St()}),1),a||ln(Be(),".docapp-shipping-calculator--loader"),a=!0,Br(),g("Start onCartChange"),p=function(t,e){var n;if(!window.cartShippingCalculatorProApp.cartChangeTrackingBlocked){if(function(t){return!(!t.item_count||!t.items.length)&&t.items.find((function(t){return null===t.product_id&&null===t.title&&null===t.handle&&0===t.price}))}(t))return g("cart.js contained item with null props! Retry in 2s."),void setTimeout((function(){return Le(Be(),(function(t){return p(t,!0)}))}),2e3);Ee(t);var r=Qe(t);if(e||r!==l){l=r,!t||t.items&&t.items.length||ur({shippingOptions:null}),d(),Ke(si());var i=C();Ye(Te()||i.discounts&&i.discounts.length>0),g("onCartChange: Start generate cart summary"),function(t){li.apply(this,arguments)}(t),Be()||(Me().length>0?(g("onCartChange: Start calculate rates for single shipping calculators"),gn(Me()[0],t)):!Me().length&&Te()&&(g("onCartChange: Start calculate rates for shipping bar"),gn(null,t)));var o=(null===(n=lr())||void 0===n||null===(n=n.shippingOptions)||void 0===n?void 0:n.length)>0&&xe();!e&&!Ne()||o||An(t)}else g("onCartChange: skip duplicate update")}},Le(Be(),(function(t){return p(t,!0)})),Se.onCartChange("shipping_app",p)}}function d(){!function(t){qe.cartSummaries=t}(document.querySelectorAll(oi)),function(t){qe.singleCalculators=t}(document.querySelectorAll(".docapp-single-shipping-calculator"));var t=document.querySelectorAll(En);Ve(t),function(t){qe.hadShippingBarOnPage=qe.hadShippingBarOnPage||t}(t.length>0)}}()})()})();